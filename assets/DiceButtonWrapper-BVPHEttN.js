import{q as Bn,j as V,a as Ui,u as pn,b as qi,M as Yi,r as Xi}from"./main-D33kKYtJ.js";import{r as x,R as An,ar as Ki,d as Gi,c as Zi,z as Cn,h as Ji,aI as Qi,j as eo,l as to,aG as no}from"./diceHelper-DTvQmLvU.js";var he="top",Re="bottom",Oe="right",ge="left",Wn="auto",Rt=[he,Re,Oe,ge],at="start",xt="end",ro="clippingParents",zr="viewport",vt="popper",io="reference",Qn=Rt.reduce(function(e,t){return e.concat([t+"-"+at,t+"-"+xt])},[]),Ur=[].concat(Rt,[Wn]).reduce(function(e,t){return e.concat([t,t+"-"+at,t+"-"+xt])},[]),oo="beforeRead",so="read",ao="afterRead",co="beforeMain",uo="main",lo="afterMain",fo="beforeWrite",po="write",mo="afterWrite",vo=[oo,so,ao,co,uo,lo,fo,po,mo];function Ie(e){return e?(e.nodeName||"").toLowerCase():null}function ye(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function Ze(e){var t=ye(e).Element;return e instanceof t||e instanceof Element}function Ee(e){var t=ye(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function Vn(e){if(typeof ShadowRoot>"u")return!1;var t=ye(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function ho(e){var t=e.state;Object.keys(t.elements).forEach(function(n){var r=t.styles[n]||{},i=t.attributes[n]||{},o=t.elements[n];!Ee(o)||!Ie(o)||(Object.assign(o.style,r),Object.keys(i).forEach(function(s){var a=i[s];a===!1?o.removeAttribute(s):o.setAttribute(s,a===!0?"":a)}))})}function go(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach(function(r){var i=t.elements[r],o=t.attributes[r]||{},s=Object.keys(t.styles.hasOwnProperty(r)?t.styles[r]:n[r]),a=s.reduce(function(c,l){return c[l]="",c},{});!Ee(i)||!Ie(i)||(Object.assign(i.style,a),Object.keys(o).forEach(function(c){i.removeAttribute(c)}))})}}const qr={name:"applyStyles",enabled:!0,phase:"write",fn:ho,effect:go,requires:["computeStyles"]};function Le(e){return e.split("-")[0]}var Ke=Math.max,Ht=Math.min,ct=Math.round;function Sn(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function Yr(){return!/^((?!chrome|android).)*safari/i.test(Sn())}function ut(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!1);var r=e.getBoundingClientRect(),i=1,o=1;t&&Ee(e)&&(i=e.offsetWidth>0&&ct(r.width)/e.offsetWidth||1,o=e.offsetHeight>0&&ct(r.height)/e.offsetHeight||1);var s=Ze(e)?ye(e):window,a=s.visualViewport,c=!Yr()&&n,l=(r.left+(c&&a?a.offsetLeft:0))/i,f=(r.top+(c&&a?a.offsetTop:0))/o,p=r.width/i,g=r.height/o;return{width:p,height:g,top:f,right:l+p,bottom:f+g,left:l,x:l,y:f}}function Hn(e){var t=ut(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function Xr(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&Vn(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Ne(e){return ye(e).getComputedStyle(e)}function bo(e){return["table","td","th"].indexOf(Ie(e))>=0}function _e(e){return((Ze(e)?e.ownerDocument:e.document)||window.document).documentElement}function en(e){return Ie(e)==="html"?e:e.assignedSlot||e.parentNode||(Vn(e)?e.host:null)||_e(e)}function er(e){return!Ee(e)||Ne(e).position==="fixed"?null:e.offsetParent}function yo(e){var t=/firefox/i.test(Sn()),n=/Trident/i.test(Sn());if(n&&Ee(e)){var r=Ne(e);if(r.position==="fixed")return null}var i=en(e);for(Vn(i)&&(i=i.host);Ee(i)&&["html","body"].indexOf(Ie(i))<0;){var o=Ne(i);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||t&&o.willChange==="filter"||t&&o.filter&&o.filter!=="none")return i;i=i.parentNode}return null}function Ot(e){for(var t=ye(e),n=er(e);n&&bo(n)&&Ne(n).position==="static";)n=er(n);return n&&(Ie(n)==="html"||Ie(n)==="body"&&Ne(n).position==="static")?t:n||yo(e)||t}function _n(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function gt(e,t,n){return Ke(e,Ht(t,n))}function wo(e,t,n){var r=gt(e,t,n);return r>n?n:r}function Kr(){return{top:0,right:0,bottom:0,left:0}}function Gr(e){return Object.assign({},Kr(),e)}function Zr(e,t){return t.reduce(function(n,r){return n[r]=e,n},{})}var xo=function(t,n){return t=typeof t=="function"?t(Object.assign({},n.rects,{placement:n.placement})):t,Gr(typeof t!="number"?t:Zr(t,Rt))};function Eo(e){var t,n=e.state,r=e.name,i=e.options,o=n.elements.arrow,s=n.modifiersData.popperOffsets,a=Le(n.placement),c=_n(a),l=[ge,Oe].indexOf(a)>=0,f=l?"height":"width";if(!(!o||!s)){var p=xo(i.padding,n),g=Hn(o),d=c==="y"?he:ge,h=c==="y"?Re:Oe,m=n.rects.reference[f]+n.rects.reference[c]-s[c]-n.rects.popper[f],w=s[c]-n.rects.reference[c],v=Ot(o),b=v?c==="y"?v.clientHeight||0:v.clientWidth||0:0,C=m/2-w/2,u=p[d],D=b-g[f]-p[h],S=b/2-g[f]/2+C,F=gt(u,S,D),L=c;n.modifiersData[r]=(t={},t[L]=F,t.centerOffset=F-S,t)}}function Ro(e){var t=e.state,n=e.options,r=n.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=t.elements.popper.querySelector(i),!i)||Xr(t.elements.popper,i)&&(t.elements.arrow=i))}const Oo={name:"arrow",enabled:!0,phase:"main",fn:Eo,effect:Ro,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function lt(e){return e.split("-")[1]}var To={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Ao(e,t){var n=e.x,r=e.y,i=t.devicePixelRatio||1;return{x:ct(n*i)/i||0,y:ct(r*i)/i||0}}function tr(e){var t,n=e.popper,r=e.popperRect,i=e.placement,o=e.variation,s=e.offsets,a=e.position,c=e.gpuAcceleration,l=e.adaptive,f=e.roundOffsets,p=e.isFixed,g=s.x,d=g===void 0?0:g,h=s.y,m=h===void 0?0:h,w=typeof f=="function"?f({x:d,y:m}):{x:d,y:m};d=w.x,m=w.y;var v=s.hasOwnProperty("x"),b=s.hasOwnProperty("y"),C=ge,u=he,D=window;if(l){var S=Ot(n),F="clientHeight",L="clientWidth";if(S===ye(n)&&(S=_e(n),Ne(S).position!=="static"&&a==="absolute"&&(F="scrollHeight",L="scrollWidth")),S=S,i===he||(i===ge||i===Oe)&&o===xt){u=Re;var I=p&&S===D&&D.visualViewport?D.visualViewport.height:S[F];m-=I-r.height,m*=c?1:-1}if(i===ge||(i===he||i===Re)&&o===xt){C=Oe;var $=p&&S===D&&D.visualViewport?D.visualViewport.width:S[L];d-=$-r.width,d*=c?1:-1}}var j=Object.assign({position:a},l&&To),B=f===!0?Ao({x:d,y:m},ye(n)):{x:d,y:m};if(d=B.x,m=B.y,c){var R;return Object.assign({},j,(R={},R[u]=b?"0":"",R[C]=v?"0":"",R.transform=(D.devicePixelRatio||1)<=1?"translate("+d+"px, "+m+"px)":"translate3d("+d+"px, "+m+"px, 0)",R))}return Object.assign({},j,(t={},t[u]=b?m+"px":"",t[C]=v?d+"px":"",t.transform="",t))}function Co(e){var t=e.state,n=e.options,r=n.gpuAcceleration,i=r===void 0?!0:r,o=n.adaptive,s=o===void 0?!0:o,a=n.roundOffsets,c=a===void 0?!0:a,l={placement:Le(t.placement),variation:lt(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,tr(Object.assign({},l,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:s,roundOffsets:c})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,tr(Object.assign({},l,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const So={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Co,data:{}};var kt={passive:!0};function Do(e){var t=e.state,n=e.instance,r=e.options,i=r.scroll,o=i===void 0?!0:i,s=r.resize,a=s===void 0?!0:s,c=ye(t.elements.popper),l=[].concat(t.scrollParents.reference,t.scrollParents.popper);return o&&l.forEach(function(f){f.addEventListener("scroll",n.update,kt)}),a&&c.addEventListener("resize",n.update,kt),function(){o&&l.forEach(function(f){f.removeEventListener("scroll",n.update,kt)}),a&&c.removeEventListener("resize",n.update,kt)}}const Po={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Do,data:{}};var Lo={left:"right",right:"left",bottom:"top",top:"bottom"};function Wt(e){return e.replace(/left|right|bottom|top/g,function(t){return Lo[t]})}var Mo={start:"end",end:"start"};function nr(e){return e.replace(/start|end/g,function(t){return Mo[t]})}function zn(e){var t=ye(e),n=t.pageXOffset,r=t.pageYOffset;return{scrollLeft:n,scrollTop:r}}function Un(e){return ut(_e(e)).left+zn(e).scrollLeft}function Io(e,t){var n=ye(e),r=_e(e),i=n.visualViewport,o=r.clientWidth,s=r.clientHeight,a=0,c=0;if(i){o=i.width,s=i.height;var l=Yr();(l||!l&&t==="fixed")&&(a=i.offsetLeft,c=i.offsetTop)}return{width:o,height:s,x:a+Un(e),y:c}}function ko(e){var t,n=_e(e),r=zn(e),i=(t=e.ownerDocument)==null?void 0:t.body,o=Ke(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),s=Ke(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-r.scrollLeft+Un(e),c=-r.scrollTop;return Ne(i||n).direction==="rtl"&&(a+=Ke(n.clientWidth,i?i.clientWidth:0)-o),{width:o,height:s,x:a,y:c}}function qn(e){var t=Ne(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function Jr(e){return["html","body","#document"].indexOf(Ie(e))>=0?e.ownerDocument.body:Ee(e)&&qn(e)?e:Jr(en(e))}function bt(e,t){var n;t===void 0&&(t=[]);var r=Jr(e),i=r===((n=e.ownerDocument)==null?void 0:n.body),o=ye(r),s=i?[o].concat(o.visualViewport||[],qn(r)?r:[]):r,a=t.concat(s);return i?a:a.concat(bt(en(s)))}function Dn(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function $o(e,t){var n=ut(e,!1,t==="fixed");return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}function rr(e,t,n){return t===zr?Dn(Io(e,n)):Ze(t)?$o(t,n):Dn(ko(_e(e)))}function jo(e){var t=bt(en(e)),n=["absolute","fixed"].indexOf(Ne(e).position)>=0,r=n&&Ee(e)?Ot(e):e;return Ze(r)?t.filter(function(i){return Ze(i)&&Xr(i,r)&&Ie(i)!=="body"}):[]}function Fo(e,t,n,r){var i=t==="clippingParents"?jo(e):[].concat(t),o=[].concat(i,[n]),s=o[0],a=o.reduce(function(c,l){var f=rr(e,l,r);return c.top=Ke(f.top,c.top),c.right=Ht(f.right,c.right),c.bottom=Ht(f.bottom,c.bottom),c.left=Ke(f.left,c.left),c},rr(e,s,r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function Qr(e){var t=e.reference,n=e.element,r=e.placement,i=r?Le(r):null,o=r?lt(r):null,s=t.x+t.width/2-n.width/2,a=t.y+t.height/2-n.height/2,c;switch(i){case he:c={x:s,y:t.y-n.height};break;case Re:c={x:s,y:t.y+t.height};break;case Oe:c={x:t.x+t.width,y:a};break;case ge:c={x:t.x-n.width,y:a};break;default:c={x:t.x,y:t.y}}var l=i?_n(i):null;if(l!=null){var f=l==="y"?"height":"width";switch(o){case at:c[l]=c[l]-(t[f]/2-n[f]/2);break;case xt:c[l]=c[l]+(t[f]/2-n[f]/2);break}}return c}function Et(e,t){t===void 0&&(t={});var n=t,r=n.placement,i=r===void 0?e.placement:r,o=n.strategy,s=o===void 0?e.strategy:o,a=n.boundary,c=a===void 0?ro:a,l=n.rootBoundary,f=l===void 0?zr:l,p=n.elementContext,g=p===void 0?vt:p,d=n.altBoundary,h=d===void 0?!1:d,m=n.padding,w=m===void 0?0:m,v=Gr(typeof w!="number"?w:Zr(w,Rt)),b=g===vt?io:vt,C=e.rects.popper,u=e.elements[h?b:g],D=Fo(Ze(u)?u:u.contextElement||_e(e.elements.popper),c,f,s),S=ut(e.elements.reference),F=Qr({reference:S,element:C,strategy:"absolute",placement:i}),L=Dn(Object.assign({},C,F)),I=g===vt?L:S,$={top:D.top-I.top+v.top,bottom:I.bottom-D.bottom+v.bottom,left:D.left-I.left+v.left,right:I.right-D.right+v.right},j=e.modifiersData.offset;if(g===vt&&j){var B=j[i];Object.keys($).forEach(function(R){var O=[Oe,Re].indexOf(R)>=0?1:-1,M=[he,Re].indexOf(R)>=0?"y":"x";$[R]+=B[M]*O})}return $}function No(e,t){t===void 0&&(t={});var n=t,r=n.placement,i=n.boundary,o=n.rootBoundary,s=n.padding,a=n.flipVariations,c=n.allowedAutoPlacements,l=c===void 0?Ur:c,f=lt(r),p=f?a?Qn:Qn.filter(function(h){return lt(h)===f}):Rt,g=p.filter(function(h){return l.indexOf(h)>=0});g.length===0&&(g=p);var d=g.reduce(function(h,m){return h[m]=Et(e,{placement:m,boundary:i,rootBoundary:o,padding:s})[Le(m)],h},{});return Object.keys(d).sort(function(h,m){return d[h]-d[m]})}function Bo(e){if(Le(e)===Wn)return[];var t=Wt(e);return[nr(e),t,nr(t)]}function Wo(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var i=n.mainAxis,o=i===void 0?!0:i,s=n.altAxis,a=s===void 0?!0:s,c=n.fallbackPlacements,l=n.padding,f=n.boundary,p=n.rootBoundary,g=n.altBoundary,d=n.flipVariations,h=d===void 0?!0:d,m=n.allowedAutoPlacements,w=t.options.placement,v=Le(w),b=v===w,C=c||(b||!h?[Wt(w)]:Bo(w)),u=[w].concat(C).reduce(function(ne,re){return ne.concat(Le(re)===Wn?No(t,{placement:re,boundary:f,rootBoundary:p,padding:l,flipVariations:h,allowedAutoPlacements:m}):re)},[]),D=t.rects.reference,S=t.rects.popper,F=new Map,L=!0,I=u[0],$=0;$<u.length;$++){var j=u[$],B=Le(j),R=lt(j)===at,O=[he,Re].indexOf(B)>=0,M=O?"width":"height",k=Et(t,{placement:j,boundary:f,rootBoundary:p,altBoundary:g,padding:l}),P=O?R?Oe:ge:R?Re:he;D[M]>S[M]&&(P=Wt(P));var A=Wt(P),T=[];if(o&&T.push(k[B]<=0),a&&T.push(k[P]<=0,k[A]<=0),T.every(function(ne){return ne})){I=j,L=!1;break}F.set(j,T)}if(L)for(var E=h?3:1,N=function(re){var Z=u.find(function(J){var X=F.get(J);if(X)return X.slice(0,re).every(function(W){return W})});if(Z)return I=Z,"break"},Y=E;Y>0;Y--){var oe=N(Y);if(oe==="break")break}t.placement!==I&&(t.modifiersData[r]._skip=!0,t.placement=I,t.reset=!0)}}const Vo={name:"flip",enabled:!0,phase:"main",fn:Wo,requiresIfExists:["offset"],data:{_skip:!1}};function ir(e,t,n){return n===void 0&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function or(e){return[he,Oe,Re,ge].some(function(t){return e[t]>=0})}function Ho(e){var t=e.state,n=e.name,r=t.rects.reference,i=t.rects.popper,o=t.modifiersData.preventOverflow,s=Et(t,{elementContext:"reference"}),a=Et(t,{altBoundary:!0}),c=ir(s,r),l=ir(a,i,o),f=or(c),p=or(l);t.modifiersData[n]={referenceClippingOffsets:c,popperEscapeOffsets:l,isReferenceHidden:f,hasPopperEscaped:p},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":f,"data-popper-escaped":p})}const _o={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Ho};function zo(e,t,n){var r=Le(e),i=[ge,he].indexOf(r)>=0?-1:1,o=typeof n=="function"?n(Object.assign({},t,{placement:e})):n,s=o[0],a=o[1];return s=s||0,a=(a||0)*i,[ge,Oe].indexOf(r)>=0?{x:a,y:s}:{x:s,y:a}}function Uo(e){var t=e.state,n=e.options,r=e.name,i=n.offset,o=i===void 0?[0,0]:i,s=Ur.reduce(function(f,p){return f[p]=zo(p,t.rects,o),f},{}),a=s[t.placement],c=a.x,l=a.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=c,t.modifiersData.popperOffsets.y+=l),t.modifiersData[r]=s}const qo={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Uo};function Yo(e){var t=e.state,n=e.name;t.modifiersData[n]=Qr({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}const Xo={name:"popperOffsets",enabled:!0,phase:"read",fn:Yo,data:{}};function Ko(e){return e==="x"?"y":"x"}function Go(e){var t=e.state,n=e.options,r=e.name,i=n.mainAxis,o=i===void 0?!0:i,s=n.altAxis,a=s===void 0?!1:s,c=n.boundary,l=n.rootBoundary,f=n.altBoundary,p=n.padding,g=n.tether,d=g===void 0?!0:g,h=n.tetherOffset,m=h===void 0?0:h,w=Et(t,{boundary:c,rootBoundary:l,padding:p,altBoundary:f}),v=Le(t.placement),b=lt(t.placement),C=!b,u=_n(v),D=Ko(u),S=t.modifiersData.popperOffsets,F=t.rects.reference,L=t.rects.popper,I=typeof m=="function"?m(Object.assign({},t.rects,{placement:t.placement})):m,$=typeof I=="number"?{mainAxis:I,altAxis:I}:Object.assign({mainAxis:0,altAxis:0},I),j=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,B={x:0,y:0};if(S){if(o){var R,O=u==="y"?he:ge,M=u==="y"?Re:Oe,k=u==="y"?"height":"width",P=S[u],A=P+w[O],T=P-w[M],E=d?-L[k]/2:0,N=b===at?F[k]:L[k],Y=b===at?-L[k]:-F[k],oe=t.elements.arrow,ne=d&&oe?Hn(oe):{width:0,height:0},re=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:Kr(),Z=re[O],J=re[M],X=gt(0,F[k],ne[k]),W=C?F[k]/2-E-X-Z-$.mainAxis:N-X-Z-$.mainAxis,z=C?-F[k]/2+E+X+J+$.mainAxis:Y+X+J+$.mainAxis,_=t.elements.arrow&&Ot(t.elements.arrow),q=_?u==="y"?_.clientTop||0:_.clientLeft||0:0,Q=(R=j==null?void 0:j[u])!=null?R:0,ie=P+W-Q-q,se=P+z-Q,te=gt(d?Ht(A,ie):A,P,d?Ke(T,se):T);S[u]=te,B[u]=te-P}if(a){var le,ve=u==="x"?he:ge,$e=u==="x"?Re:Oe,fe=S[D],ae=D==="y"?"height":"width",Se=fe+w[ve],De=fe-w[$e],mt=[he,ge].indexOf(v)!==-1,St=(le=j==null?void 0:j[D])!=null?le:0,Dt=mt?Se:fe-F[ae]-L[ae]-St+$.altAxis,Pt=mt?fe+F[ae]+L[ae]-St-$.altAxis:De,Lt=d&&mt?wo(Dt,fe,Pt):gt(d?Dt:Se,fe,d?Pt:De);S[D]=Lt,B[D]=Lt-fe}t.modifiersData[r]=B}}const Zo={name:"preventOverflow",enabled:!0,phase:"main",fn:Go,requiresIfExists:["offset"]};function Jo(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function Qo(e){return e===ye(e)||!Ee(e)?zn(e):Jo(e)}function es(e){var t=e.getBoundingClientRect(),n=ct(t.width)/e.offsetWidth||1,r=ct(t.height)/e.offsetHeight||1;return n!==1||r!==1}function ts(e,t,n){n===void 0&&(n=!1);var r=Ee(t),i=Ee(t)&&es(t),o=_e(t),s=ut(e,i,n),a={scrollLeft:0,scrollTop:0},c={x:0,y:0};return(r||!r&&!n)&&((Ie(t)!=="body"||qn(o))&&(a=Qo(t)),Ee(t)?(c=ut(t,!0),c.x+=t.clientLeft,c.y+=t.clientTop):o&&(c.x=Un(o))),{x:s.left+a.scrollLeft-c.x,y:s.top+a.scrollTop-c.y,width:s.width,height:s.height}}function ns(e){var t=new Map,n=new Set,r=[];e.forEach(function(o){t.set(o.name,o)});function i(o){n.add(o.name);var s=[].concat(o.requires||[],o.requiresIfExists||[]);s.forEach(function(a){if(!n.has(a)){var c=t.get(a);c&&i(c)}}),r.push(o)}return e.forEach(function(o){n.has(o.name)||i(o)}),r}function rs(e){var t=ns(e);return vo.reduce(function(n,r){return n.concat(t.filter(function(i){return i.phase===r}))},[])}function is(e){var t;return function(){return t||(t=new Promise(function(n){Promise.resolve().then(function(){t=void 0,n(e())})})),t}}function os(e){var t=e.reduce(function(n,r){var i=n[r.name];return n[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,n},{});return Object.keys(t).map(function(n){return t[n]})}var sr={placement:"bottom",modifiers:[],strategy:"absolute"};function ar(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function ss(e){e===void 0&&(e={});var t=e,n=t.defaultModifiers,r=n===void 0?[]:n,i=t.defaultOptions,o=i===void 0?sr:i;return function(a,c,l){l===void 0&&(l=o);var f={placement:"bottom",orderedModifiers:[],options:Object.assign({},sr,o),modifiersData:{},elements:{reference:a,popper:c},attributes:{},styles:{}},p=[],g=!1,d={state:f,setOptions:function(v){var b=typeof v=="function"?v(f.options):v;m(),f.options=Object.assign({},o,f.options,b),f.scrollParents={reference:Ze(a)?bt(a):a.contextElement?bt(a.contextElement):[],popper:bt(c)};var C=rs(os([].concat(r,f.options.modifiers)));return f.orderedModifiers=C.filter(function(u){return u.enabled}),h(),d.update()},forceUpdate:function(){if(!g){var v=f.elements,b=v.reference,C=v.popper;if(ar(b,C)){f.rects={reference:ts(b,Ot(C),f.options.strategy==="fixed"),popper:Hn(C)},f.reset=!1,f.placement=f.options.placement,f.orderedModifiers.forEach(function($){return f.modifiersData[$.name]=Object.assign({},$.data)});for(var u=0;u<f.orderedModifiers.length;u++){if(f.reset===!0){f.reset=!1,u=-1;continue}var D=f.orderedModifiers[u],S=D.fn,F=D.options,L=F===void 0?{}:F,I=D.name;typeof S=="function"&&(f=S({state:f,options:L,name:I,instance:d})||f)}}}},update:is(function(){return new Promise(function(w){d.forceUpdate(),w(f)})}),destroy:function(){m(),g=!0}};if(!ar(a,c))return d;d.setOptions(l).then(function(w){!g&&l.onFirstUpdate&&l.onFirstUpdate(w)});function h(){f.orderedModifiers.forEach(function(w){var v=w.name,b=w.options,C=b===void 0?{}:b,u=w.effect;if(typeof u=="function"){var D=u({state:f,name:v,instance:d,options:C}),S=function(){};p.push(D||S)}})}function m(){p.forEach(function(w){return w()}),p=[]}return d}}var as=[Po,Xo,So,qr,qo,Vo,Zo,Oo,_o],cs=ss({defaultModifiers:as}),us="tippy-box",ei="tippy-content",ls="tippy-backdrop",ti="tippy-arrow",ni="tippy-svg-arrow",qe={passive:!0,capture:!0},ri=function(){return document.body};function mn(e,t,n){if(Array.isArray(e)){var r=e[t];return r??(Array.isArray(n)?n[t]:n)}return e}function Yn(e,t){var n={}.toString.call(e);return n.indexOf("[object")===0&&n.indexOf(t+"]")>-1}function ii(e,t){return typeof e=="function"?e.apply(void 0,t):e}function cr(e,t){if(t===0)return e;var n;return function(r){clearTimeout(n),n=setTimeout(function(){e(r)},t)}}function fs(e){return e.split(/\s+/).filter(Boolean)}function rt(e){return[].concat(e)}function ur(e,t){e.indexOf(t)===-1&&e.push(t)}function ds(e){return e.filter(function(t,n){return e.indexOf(t)===n})}function ps(e){return e.split("-")[0]}function _t(e){return[].slice.call(e)}function lr(e){return Object.keys(e).reduce(function(t,n){return e[n]!==void 0&&(t[n]=e[n]),t},{})}function yt(){return document.createElement("div")}function tn(e){return["Element","Fragment"].some(function(t){return Yn(e,t)})}function ms(e){return Yn(e,"NodeList")}function vs(e){return Yn(e,"MouseEvent")}function hs(e){return!!(e&&e._tippy&&e._tippy.reference===e)}function gs(e){return tn(e)?[e]:ms(e)?_t(e):Array.isArray(e)?e:_t(document.querySelectorAll(e))}function vn(e,t){e.forEach(function(n){n&&(n.style.transitionDuration=t+"ms")})}function fr(e,t){e.forEach(function(n){n&&n.setAttribute("data-state",t)})}function bs(e){var t,n=rt(e),r=n[0];return r!=null&&(t=r.ownerDocument)!=null&&t.body?r.ownerDocument:document}function ys(e,t){var n=t.clientX,r=t.clientY;return e.every(function(i){var o=i.popperRect,s=i.popperState,a=i.props,c=a.interactiveBorder,l=ps(s.placement),f=s.modifiersData.offset;if(!f)return!0;var p=l==="bottom"?f.top.y:0,g=l==="top"?f.bottom.y:0,d=l==="right"?f.left.x:0,h=l==="left"?f.right.x:0,m=o.top-r+p>c,w=r-o.bottom-g>c,v=o.left-n+d>c,b=n-o.right-h>c;return m||w||v||b})}function hn(e,t,n){var r=t+"EventListener";["transitionend","webkitTransitionEnd"].forEach(function(i){e[r](i,n)})}function dr(e,t){for(var n=t;n;){var r;if(e.contains(n))return!0;n=n.getRootNode==null||(r=n.getRootNode())==null?void 0:r.host}return!1}var Pe={isTouch:!1},pr=0;function ws(){Pe.isTouch||(Pe.isTouch=!0,window.performance&&document.addEventListener("mousemove",oi))}function oi(){var e=performance.now();e-pr<20&&(Pe.isTouch=!1,document.removeEventListener("mousemove",oi)),pr=e}function xs(){var e=document.activeElement;if(hs(e)){var t=e._tippy;e.blur&&!t.state.isVisible&&e.blur()}}function Es(){document.addEventListener("touchstart",ws,qe),window.addEventListener("blur",xs)}var Rs=typeof window<"u"&&typeof document<"u",Os=Rs?!!window.msCrypto:!1,Ts={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},As={allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999},Ce=Object.assign({appendTo:ri,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},Ts,As),Cs=Object.keys(Ce),Ss=function(t){var n=Object.keys(t);n.forEach(function(r){Ce[r]=t[r]})};function si(e){var t=e.plugins||[],n=t.reduce(function(r,i){var o=i.name,s=i.defaultValue;if(o){var a;r[o]=e[o]!==void 0?e[o]:(a=Ce[o])!=null?a:s}return r},{});return Object.assign({},e,n)}function Ds(e,t){var n=t?Object.keys(si(Object.assign({},Ce,{plugins:t}))):Cs,r=n.reduce(function(i,o){var s=(e.getAttribute("data-tippy-"+o)||"").trim();if(!s)return i;if(o==="content")i[o]=s;else try{i[o]=JSON.parse(s)}catch{i[o]=s}return i},{});return r}function mr(e,t){var n=Object.assign({},t,{content:ii(t.content,[e])},t.ignoreAttributes?{}:Ds(e,t.plugins));return n.aria=Object.assign({},Ce.aria,n.aria),n.aria={expanded:n.aria.expanded==="auto"?t.interactive:n.aria.expanded,content:n.aria.content==="auto"?t.interactive?null:"describedby":n.aria.content},n}var Ps=function(){return"innerHTML"};function Pn(e,t){e[Ps()]=t}function vr(e){var t=yt();return e===!0?t.className=ti:(t.className=ni,tn(e)?t.appendChild(e):Pn(t,e)),t}function hr(e,t){tn(t.content)?(Pn(e,""),e.appendChild(t.content)):typeof t.content!="function"&&(t.allowHTML?Pn(e,t.content):e.textContent=t.content)}function Ln(e){var t=e.firstElementChild,n=_t(t.children);return{box:t,content:n.find(function(r){return r.classList.contains(ei)}),arrow:n.find(function(r){return r.classList.contains(ti)||r.classList.contains(ni)}),backdrop:n.find(function(r){return r.classList.contains(ls)})}}function ai(e){var t=yt(),n=yt();n.className=us,n.setAttribute("data-state","hidden"),n.setAttribute("tabindex","-1");var r=yt();r.className=ei,r.setAttribute("data-state","hidden"),hr(r,e.props),t.appendChild(n),n.appendChild(r),i(e.props,e.props);function i(o,s){var a=Ln(t),c=a.box,l=a.content,f=a.arrow;s.theme?c.setAttribute("data-theme",s.theme):c.removeAttribute("data-theme"),typeof s.animation=="string"?c.setAttribute("data-animation",s.animation):c.removeAttribute("data-animation"),s.inertia?c.setAttribute("data-inertia",""):c.removeAttribute("data-inertia"),c.style.maxWidth=typeof s.maxWidth=="number"?s.maxWidth+"px":s.maxWidth,s.role?c.setAttribute("role",s.role):c.removeAttribute("role"),(o.content!==s.content||o.allowHTML!==s.allowHTML)&&hr(l,e.props),s.arrow?f?o.arrow!==s.arrow&&(c.removeChild(f),c.appendChild(vr(s.arrow))):c.appendChild(vr(s.arrow)):f&&c.removeChild(f)}return{popper:t,onUpdate:i}}ai.$$tippy=!0;var Ls=1,$t=[],gn=[];function Ms(e,t){var n=mr(e,Object.assign({},Ce,si(lr(t)))),r,i,o,s=!1,a=!1,c=!1,l=!1,f,p,g,d=[],h=cr(ie,n.interactiveDebounce),m,w=Ls++,v=null,b=ds(n.plugins),C={isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},u={id:w,reference:e,popper:yt(),popperInstance:v,props:n,state:C,plugins:b,clearDelayTimeouts:Dt,setProps:Pt,setContent:Lt,show:Bi,hide:Wi,hideWithInteractivity:Vi,enable:mt,disable:St,unmount:Hi,destroy:_i};if(!n.render)return u;var D=n.render(u),S=D.popper,F=D.onUpdate;S.setAttribute("data-tippy-root",""),S.id="tippy-"+u.id,u.popper=S,e._tippy=u,S._tippy=u;var L=b.map(function(y){return y.fn(u)}),I=e.hasAttribute("aria-expanded");return _(),E(),P(),A("onCreate",[u]),n.showOnCreate&&Se(),S.addEventListener("mouseenter",function(){u.props.interactive&&u.state.isVisible&&u.clearDelayTimeouts()}),S.addEventListener("mouseleave",function(){u.props.interactive&&u.props.trigger.indexOf("mouseenter")>=0&&O().addEventListener("mousemove",h)}),u;function $(){var y=u.props.touch;return Array.isArray(y)?y:[y,0]}function j(){return $()[0]==="hold"}function B(){var y;return!!((y=u.props.render)!=null&&y.$$tippy)}function R(){return m||e}function O(){var y=R().parentNode;return y?bs(y):document}function M(){return Ln(S)}function k(y){return u.state.isMounted&&!u.state.isVisible||Pe.isTouch||f&&f.type==="focus"?0:mn(u.props.delay,y?0:1,Ce.delay)}function P(y){y===void 0&&(y=!1),S.style.pointerEvents=u.props.interactive&&!y?"":"none",S.style.zIndex=""+u.props.zIndex}function A(y,H,U){if(U===void 0&&(U=!0),L.forEach(function(K){K[y]&&K[y].apply(K,H)}),U){var G;(G=u.props)[y].apply(G,H)}}function T(){var y=u.props.aria;if(y.content){var H="aria-"+y.content,U=S.id,G=rt(u.props.triggerTarget||e);G.forEach(function(K){var de=K.getAttribute(H);if(u.state.isVisible)K.setAttribute(H,de?de+" "+U:U);else{var we=de&&de.replace(U,"").trim();we?K.setAttribute(H,we):K.removeAttribute(H)}})}}function E(){if(!(I||!u.props.aria.expanded)){var y=rt(u.props.triggerTarget||e);y.forEach(function(H){u.props.interactive?H.setAttribute("aria-expanded",u.state.isVisible&&H===R()?"true":"false"):H.removeAttribute("aria-expanded")})}}function N(){O().removeEventListener("mousemove",h),$t=$t.filter(function(y){return y!==h})}function Y(y){if(!(Pe.isTouch&&(c||y.type==="mousedown"))){var H=y.composedPath&&y.composedPath()[0]||y.target;if(!(u.props.interactive&&dr(S,H))){if(rt(u.props.triggerTarget||e).some(function(U){return dr(U,H)})){if(Pe.isTouch||u.state.isVisible&&u.props.trigger.indexOf("click")>=0)return}else A("onClickOutside",[u,y]);u.props.hideOnClick===!0&&(u.clearDelayTimeouts(),u.hide(),a=!0,setTimeout(function(){a=!1}),u.state.isMounted||Z())}}}function oe(){c=!0}function ne(){c=!1}function re(){var y=O();y.addEventListener("mousedown",Y,!0),y.addEventListener("touchend",Y,qe),y.addEventListener("touchstart",ne,qe),y.addEventListener("touchmove",oe,qe)}function Z(){var y=O();y.removeEventListener("mousedown",Y,!0),y.removeEventListener("touchend",Y,qe),y.removeEventListener("touchstart",ne,qe),y.removeEventListener("touchmove",oe,qe)}function J(y,H){W(y,function(){!u.state.isVisible&&S.parentNode&&S.parentNode.contains(S)&&H()})}function X(y,H){W(y,H)}function W(y,H){var U=M().box;function G(K){K.target===U&&(hn(U,"remove",G),H())}if(y===0)return H();hn(U,"remove",p),hn(U,"add",G),p=G}function z(y,H,U){U===void 0&&(U=!1);var G=rt(u.props.triggerTarget||e);G.forEach(function(K){K.addEventListener(y,H,U),d.push({node:K,eventType:y,handler:H,options:U})})}function _(){j()&&(z("touchstart",Q,{passive:!0}),z("touchend",se,{passive:!0})),fs(u.props.trigger).forEach(function(y){if(y!=="manual")switch(z(y,Q),y){case"mouseenter":z("mouseleave",se);break;case"focus":z(Os?"focusout":"blur",te);break;case"focusin":z("focusout",te);break}})}function q(){d.forEach(function(y){var H=y.node,U=y.eventType,G=y.handler,K=y.options;H.removeEventListener(U,G,K)}),d=[]}function Q(y){var H,U=!1;if(!(!u.state.isEnabled||le(y)||a)){var G=((H=f)==null?void 0:H.type)==="focus";f=y,m=y.currentTarget,E(),!u.state.isVisible&&vs(y)&&$t.forEach(function(K){return K(y)}),y.type==="click"&&(u.props.trigger.indexOf("mouseenter")<0||s)&&u.props.hideOnClick!==!1&&u.state.isVisible?U=!0:Se(y),y.type==="click"&&(s=!U),U&&!G&&De(y)}}function ie(y){var H=y.target,U=R().contains(H)||S.contains(H);if(!(y.type==="mousemove"&&U)){var G=ae().concat(S).map(function(K){var de,we=K._tippy,Qe=(de=we.popperInstance)==null?void 0:de.state;return Qe?{popperRect:K.getBoundingClientRect(),popperState:Qe,props:n}:null}).filter(Boolean);ys(G,y)&&(N(),De(y))}}function se(y){var H=le(y)||u.props.trigger.indexOf("click")>=0&&s;if(!H){if(u.props.interactive){u.hideWithInteractivity(y);return}De(y)}}function te(y){u.props.trigger.indexOf("focusin")<0&&y.target!==R()||u.props.interactive&&y.relatedTarget&&S.contains(y.relatedTarget)||De(y)}function le(y){return Pe.isTouch?j()!==y.type.indexOf("touch")>=0:!1}function ve(){$e();var y=u.props,H=y.popperOptions,U=y.placement,G=y.offset,K=y.getReferenceClientRect,de=y.moveTransition,we=B()?Ln(S).arrow:null,Qe=K?{getBoundingClientRect:K,contextElement:K.contextElement||R()}:e,Jn={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(Mt){var et=Mt.state;if(B()){var zi=M(),dn=zi.box;["placement","reference-hidden","escaped"].forEach(function(It){It==="placement"?dn.setAttribute("data-placement",et.placement):et.attributes.popper["data-popper-"+It]?dn.setAttribute("data-"+It,""):dn.removeAttribute("data-"+It)}),et.attributes.popper={}}}},Ue=[{name:"offset",options:{offset:G}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!de}},Jn];B()&&we&&Ue.push({name:"arrow",options:{element:we,padding:3}}),Ue.push.apply(Ue,(H==null?void 0:H.modifiers)||[]),u.popperInstance=cs(Qe,S,Object.assign({},H,{placement:U,onFirstUpdate:g,modifiers:Ue}))}function $e(){u.popperInstance&&(u.popperInstance.destroy(),u.popperInstance=null)}function fe(){var y=u.props.appendTo,H,U=R();u.props.interactive&&y===ri||y==="parent"?H=U.parentNode:H=ii(y,[U]),H.contains(S)||H.appendChild(S),u.state.isMounted=!0,ve()}function ae(){return _t(S.querySelectorAll("[data-tippy-root]"))}function Se(y){u.clearDelayTimeouts(),y&&A("onTrigger",[u,y]),re();var H=k(!0),U=$(),G=U[0],K=U[1];Pe.isTouch&&G==="hold"&&K&&(H=K),H?r=setTimeout(function(){u.show()},H):u.show()}function De(y){if(u.clearDelayTimeouts(),A("onUntrigger",[u,y]),!u.state.isVisible){Z();return}if(!(u.props.trigger.indexOf("mouseenter")>=0&&u.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(y.type)>=0&&s)){var H=k(!1);H?i=setTimeout(function(){u.state.isVisible&&u.hide()},H):o=requestAnimationFrame(function(){u.hide()})}}function mt(){u.state.isEnabled=!0}function St(){u.hide(),u.state.isEnabled=!1}function Dt(){clearTimeout(r),clearTimeout(i),cancelAnimationFrame(o)}function Pt(y){if(!u.state.isDestroyed){A("onBeforeUpdate",[u,y]),q();var H=u.props,U=mr(e,Object.assign({},H,lr(y),{ignoreAttributes:!0}));u.props=U,_(),H.interactiveDebounce!==U.interactiveDebounce&&(N(),h=cr(ie,U.interactiveDebounce)),H.triggerTarget&&!U.triggerTarget?rt(H.triggerTarget).forEach(function(G){G.removeAttribute("aria-expanded")}):U.triggerTarget&&e.removeAttribute("aria-expanded"),E(),P(),F&&F(H,U),u.popperInstance&&(ve(),ae().forEach(function(G){requestAnimationFrame(G._tippy.popperInstance.forceUpdate)})),A("onAfterUpdate",[u,y])}}function Lt(y){u.setProps({content:y})}function Bi(){var y=u.state.isVisible,H=u.state.isDestroyed,U=!u.state.isEnabled,G=Pe.isTouch&&!u.props.touch,K=mn(u.props.duration,0,Ce.duration);if(!(y||H||U||G)&&!R().hasAttribute("disabled")&&(A("onShow",[u],!1),u.props.onShow(u)!==!1)){if(u.state.isVisible=!0,B()&&(S.style.visibility="visible"),P(),re(),u.state.isMounted||(S.style.transition="none"),B()){var de=M(),we=de.box,Qe=de.content;vn([we,Qe],0)}g=function(){var Ue;if(!(!u.state.isVisible||l)){if(l=!0,S.offsetHeight,S.style.transition=u.props.moveTransition,B()&&u.props.animation){var fn=M(),Mt=fn.box,et=fn.content;vn([Mt,et],K),fr([Mt,et],"visible")}T(),E(),ur(gn,u),(Ue=u.popperInstance)==null||Ue.forceUpdate(),A("onMount",[u]),u.props.animation&&B()&&X(K,function(){u.state.isShown=!0,A("onShown",[u])})}},fe()}}function Wi(){var y=!u.state.isVisible,H=u.state.isDestroyed,U=!u.state.isEnabled,G=mn(u.props.duration,1,Ce.duration);if(!(y||H||U)&&(A("onHide",[u],!1),u.props.onHide(u)!==!1)){if(u.state.isVisible=!1,u.state.isShown=!1,l=!1,s=!1,B()&&(S.style.visibility="hidden"),N(),Z(),P(!0),B()){var K=M(),de=K.box,we=K.content;u.props.animation&&(vn([de,we],G),fr([de,we],"hidden"))}T(),E(),u.props.animation?B()&&J(G,u.unmount):u.unmount()}}function Vi(y){O().addEventListener("mousemove",h),ur($t,h),h(y)}function Hi(){u.state.isVisible&&u.hide(),u.state.isMounted&&($e(),ae().forEach(function(y){y._tippy.unmount()}),S.parentNode&&S.parentNode.removeChild(S),gn=gn.filter(function(y){return y!==u}),u.state.isMounted=!1,A("onHidden",[u]))}function _i(){u.state.isDestroyed||(u.clearDelayTimeouts(),u.unmount(),q(),delete e._tippy,u.state.isDestroyed=!0,A("onDestroy",[u]))}}function Tt(e,t){t===void 0&&(t={});var n=Ce.plugins.concat(t.plugins||[]);Es();var r=Object.assign({},t,{plugins:n}),i=gs(e),o=i.reduce(function(s,a){var c=a&&Ms(a,r);return c&&s.push(c),s},[]);return tn(e)?o[0]:o}Tt.defaultProps=Ce;Tt.setDefaultProps=Ss;Tt.currentInput=Pe;Object.assign({},qr,{effect:function(t){var n=t.state,r={popper:{position:n.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(n.elements.popper.style,r.popper),n.styles=r,n.elements.arrow&&Object.assign(n.elements.arrow.style,r.arrow)}});Tt.setDefaultProps({render:ai});function ci(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var ui=typeof window<"u"&&typeof document<"u";function Mn(e,t){e&&(typeof e=="function"&&e(t),{}.hasOwnProperty.call(e,"current")&&(e.current=t))}function gr(){return ui&&document.createElement("div")}function Is(e){var t={"data-placement":e.placement};return e.referenceHidden&&(t["data-reference-hidden"]=""),e.escaped&&(t["data-escaped"]=""),t}function li(e,t){if(e===t)return!0;if(typeof e=="object"&&e!=null&&typeof t=="object"&&t!=null){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var n in e)if(t.hasOwnProperty(n)){if(!li(e[n],t[n]))return!1}else return!1;return!0}else return!1}function ks(e){var t=[];return e.forEach(function(n){t.find(function(r){return li(n,r)})||t.push(n)}),t}function $s(e,t){var n,r;return Object.assign({},t,{popperOptions:Object.assign({},e.popperOptions,t.popperOptions,{modifiers:ks([].concat(((n=e.popperOptions)==null?void 0:n.modifiers)||[],((r=t.popperOptions)==null?void 0:r.modifiers)||[]))})})}var bn=ui?x.useLayoutEffect:x.useEffect;function js(e){var t=x.useRef();return t.current||(t.current=typeof e=="function"?e():e),t.current}function br(e,t,n){n.split(/\s+/).forEach(function(r){r&&e.classList[t](r)})}var Fs={name:"className",defaultValue:"",fn:function(t){var n=t.popper.firstElementChild,r=function(){var a;return!!((a=t.props.render)!=null&&a.$$tippy)};function i(){t.props.className&&!r()||br(n,"add",t.props.className)}function o(){r()&&br(n,"remove",t.props.className)}return{onCreate:i,onBeforeUpdate:o,onAfterUpdate:i}}};function Ns(e){function t(n){var r=n.children,i=n.content,o=n.visible,s=n.singleton,a=n.render,c=n.reference,l=n.disabled,f=l===void 0?!1:l,p=n.ignoreAttributes,g=p===void 0?!0:p;n.__source,n.__self;var d=ci(n,["children","content","visible","singleton","render","reference","disabled","ignoreAttributes","__source","__self"]),h=o!==void 0,m=s!==void 0,w=x.useState(!1),v=w[0],b=w[1],C=x.useState({}),u=C[0],D=C[1],S=x.useState(),F=S[0],L=S[1],I=js(function(){return{container:gr(),renders:1}}),$=Object.assign({ignoreAttributes:g},d,{content:I.container});h&&($.trigger="manual",$.hideOnClick=!1),m&&(f=!0);var j=$,B=$.plugins||[];a&&(j=Object.assign({},$,{plugins:m&&s.data!=null?[].concat(B,[{fn:function(){return{onTrigger:function(k,P){var A=s.data.children.find(function(T){var E=T.instance;return E.reference===P.currentTarget});k.state.$$activeSingletonInstance=A.instance,L(A.content)}}}}]):B,render:function(){return{popper:I.container}}}));var R=[c].concat(r?[r.type]:[]);return bn(function(){var O=c;c&&c.hasOwnProperty("current")&&(O=c.current);var M=e(O||I.ref||gr(),Object.assign({},j,{plugins:[Fs].concat($.plugins||[])}));return I.instance=M,f&&M.disable(),o&&M.show(),m&&s.hook({instance:M,content:i,props:j,setSingletonContent:L}),b(!0),function(){M.destroy(),s==null||s.cleanup(M)}},R),bn(function(){var O;if(I.renders===1){I.renders++;return}var M=I.instance;M.setProps($s(M.props,j)),(O=M.popperInstance)==null||O.forceUpdate(),f?M.disable():M.enable(),h&&(o?M.show():M.hide()),m&&s.hook({instance:M,content:i,props:j,setSingletonContent:L})}),bn(function(){var O;if(a){var M=I.instance;M.setProps({popperOptions:Object.assign({},M.props.popperOptions,{modifiers:[].concat((((O=M.props.popperOptions)==null?void 0:O.modifiers)||[]).filter(function(k){var P=k.name;return P!=="$$tippyReact"}),[{name:"$$tippyReact",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(P){var A,T=P.state,E=(A=T.modifiersData)==null?void 0:A.hide;(u.placement!==T.placement||u.referenceHidden!==(E==null?void 0:E.isReferenceHidden)||u.escaped!==(E==null?void 0:E.hasPopperEscaped))&&D({placement:T.placement,referenceHidden:E==null?void 0:E.isReferenceHidden,escaped:E==null?void 0:E.hasPopperEscaped}),T.attributes.popper={}}}])})})}},[u.placement,u.referenceHidden,u.escaped].concat(R)),An.createElement(An.Fragment,null,r?x.cloneElement(r,{ref:function(M){I.ref=M,Mn(r.ref,M)}}):null,v&&Bn.createPortal(a?a(Is(u),F,I.instance):i,I.container))}return t}var Bs=function(e,t){return x.forwardRef(function(r,i){var o=r.children,s=ci(r,["children"]);return An.createElement(e,Object.assign({},t,s),o?x.cloneElement(o,{ref:function(c){Mn(i,c),Mn(o.ref,c)}}):null)})},Ws=Bs(Ns(Tt));const Vs=()=>V.jsx("svg",{className:"d4-icon",width:"109.92062pt",height:"96.828369pt",viewBox:"0 0 109.92062 96.828369",children:V.jsx("g",{transform:"matrix(0.1,0,0,-0.1,-219.12222,918.91049)",children:V.jsx("path",{d:"m 2680.3405,9104.0856 c -28,-48 -151,-262 -273,-475 -122,-213 -220,-392 -216,-398 8,-13 1091,-14 1099,-1 8,12 -531,955 -547,959 -7,1 -35,-37 -63,-85 z m 328,-417 c 125,-220 227,-401 225,-402 -2,-2 -156,84 -387,219 l -95,55 -2,273 c -1,150 1,277 4,282 3,5 10,1 16,-9 6,-11 113,-199 239,-418 z m -287,86 -7,-223 -28,-14 c -15,-8 -119,-69 -230,-135 -112,-66 -205,-118 -208,-116 -2,3 40,83 96,178 55,95 162,281 238,413 l 139,240 3,-60 c 2,-33 1,-160 -3,-283 z m 260,-379 c 121,-70 224,-130 229,-135 6,-4 -206,-8 -469,-8 -412,0 -477,2 -460,14 80,56 453,265 465,260 8,-3 114,-62 235,-131 z"})})}),Hs=()=>V.jsx("svg",{className:"d6-icon",width:"112.92551pt",height:"129.10027pt",viewBox:"0 0 112.92551 129.10027",children:V.jsx("g",{transform:"matrix(0.1,0,0,-0.1,-188.72561,793.02586)",children:V.jsx("path",{d:"m 2165.511,7767.2563 -275,-162 -3,-114 c -1,-63 1,-209 5,-325 l 8,-210 245,-141 c 135,-78 259,-150 276,-159 l 32,-17 281,163 282,164 -7,315 c -3,173 -9,318 -13,322 -10,11 -542,328 -549,327 -4,-1 -131,-74 -282,-163 z m 558,-30 c 127,-76 232,-141 232,-145 0,-4 -11,-13 -23,-18 -13,-6 -121,-68 -240,-136 -127,-74 -226,-125 -239,-124 -29,2 -511,270 -508,283 1,5 115,75 253,156 223,129 254,145 272,134 11,-7 125,-74 253,-150 z m -542,-315 249,-138 3,-303 2,-302 -42,25 c -24,14 -136,79 -249,144 -140,80 -210,126 -217,142 -14,29 -17,571 -4,571 5,0 121,-62 258,-139 z m 803,-151 2,-290 -43,-25 c -24,-14 -140,-82 -258,-150 l -215,-124 -3,285 c -1,157 2,292 7,301 9,17 477,292 497,293 7,0 11,-90 13,-290 z"})})}),_s=()=>V.jsx("svg",{className:"d8-icon",width:"111.30405pt",height:"127.60114pt",viewBox:"0 0 111.30405 127.60114",children:V.jsx("g",{transform:"matrix(0.1,0,0,-0.1,-176.02752,624.07925)",children:V.jsx("path",{d:"m 2038.3158,6083.7927 c -151,-86 -275,-160 -277,-166 -2,-5 -1,-154 2,-330 l 5,-319 265,-153 c 151,-87 274,-152 285,-151 12,2 141,70 288,153 l 267,150 v 327 327 l -280,159 -280,160 z m 233,91 c -8,-20 -471,-832 -473,-830 -1,2 -5,119 -9,261 -6,228 -5,233.6593 -5.2523,253.6951 -0.1007,7.9994 0.128,6.4459 0.128,11.4459 0,6 -0.2738,2.4133 -0.3346,10.4131 -0.1379,18.1769 -4.5411,20.4459 17.4589,28.4459 9,4 19,10 22,13 3,4 97,60 210,125 113,64 209,121 215,126 11,11 28,12 23,1 z m 122,-117 c 77.2537,-165.6539 181.5284,-314.9553 266.3817,-478.1013 3.8199,-6.1236 6.9211,-12.517 11.1237,-19.7526 5.7195,-9.6739 152.4946,-245.1461 152.4946,-260.1461 0,-4 -155,-7 -345,-7 -320,0 -309.6791,0.3476 -339.8361,1.8887 -16.6982,-0.1113 -15.872,0.3018 -36.5145,0 -32.0359,-0.5084 -14.6494,-1.8887 -143.6494,-1.8887 -136,0 -147,1 -141,18 13,34 491,872 498,872 3,0 39,-56 78,-125 z m 197,-7 c 66.5598,-38.8552 186.1158,-107.1205 218.8081,-129.0906 40.5278,-23.3106 29.1919,-8.9094 32.1919,-306.9094 3,-328 14,-313 -91,-126 -31,55 -56.8562,105.7237 -60.7975,112.6855 -3.7974,6.7079 -8.3369,14.6407 -13.4157,24.5842 -83.8594,138.2676 -163.9221,284.82 -236.7868,409.7303 -57,97 -78,137 -70,137 3,0 103,-55 221,-122 z m -428,-788 c 228,0 259.689,-1.141 279.0068,-1.4329 10.6098,0.088 29.5496,1.37 44.3636,1 11.1626,-0.2746 41.6296,0.4329 158.6296,-1.5671 l 154,-3 -219,-123 c -145,-81 -166.3056,-93.7676 -191.5251,-106.0854 -11.3658,-5.5514 -22.9573,-11.1539 -40.5145,-20.5015 -7.9442,-4.2296 -26.0359,-19.1311 -37.9604,-13.4131 -24,5 -466,263 -466,271 0,5 4,6 9,2 5,-3 145,-5 310,-5 z"})})}),zs=()=>V.jsx("svg",{className:"d10-icon",width:"130.5pt",height:"111.99997pt",viewBox:"0 0 130.5 111.99997",children:V.jsx("g",{transform:"matrix(0.1,0,0,-0.1,-144.34985,463.63535)",children:V.jsx("path",{d:"m 1763.4985,4378.3537 c -176,-142 -320,-262 -320,-268 0,-6 119,-116 265,-244 146,-128 295,-259 331,-291 l 66,-59 79,68 c 44,37 188,159 322,270 133,112 242,207 242,212 0,12 -639,570 -653,570 -7,-1 -156,-117 -332,-258 z m 317,4 c 2,-106 2,-200 0,-209 -4,-18 -138.8529,-68.9314 -152.7347,-74.141 -17.3606,-5.8293 -31.5517,-10.954 -46.3735,-16.9802 -9.0885,-3.6951 -28.8918,-12.8788 -59.8918,-24.8788 l -58,-22 -128,37 c -98,29 -127,41 -125,53 5,26 507.6524,407.631 530.0341,423.7079 7.3262,6.3924 2.7312,4.1344 11.4605,10.5842 9.7294,8.9552 8.6469,9.7346 15.595,13.7868 7.1774,4.1859 10.9104,-31.0789 12.9104,-191.0789 z m 63.2672,176.7885 c 8.8818,-7.9394 4.8967,-5.2264 14.2065,-13.5869 11.4082,-9.0835 42.5263,-27.2016 91.5263,-71.2016 46,-40 162,-142 258,-226 97,-85 177,-158 179,-163 5,-12 -28,-24 -150,-54 l -100,-26 -64,30 c -35,16 -65.8778,29.7173 -72.4713,32.0682 -15.1898,5.4157 -21.8977,9.2921 -33.4031,13.4712 -13.9659,7.5161 -27.1256,14.4606 -73.1256,37.4606 l -85,42 v 208 c 0,178 2,208 15,208 8,0 12.066,-9.8806 20.2672,-17.2115 z m 103.9013,-502.0358 c 6.3816,-2.371 13.0447,-6.371 21.1684,-9.5842 20.4578,-8.0919 139.6631,-58.1685 139.6631,-68.1685 0,-17 -281,-388 -299,-395 -15,-5 -28,7 -67,60 -212,295 -254,356 -252,364 2,5 71,35 153,67 l 150,58 75,-34 c 41,-19 70.5735,-35.6631 79.1685,-42.2473 z m -592.1685,-19.7527 88,-27 127,-174 c 69,-96 125,-176 123,-178 -3,-3 -397,340 -460,400 -20,19 -20,19 7,13 15,-4 67,-19 115,-34 z m 1013,-6 c 0,-4 -398,-342 -449,-380 -29,-22 -25,-17 138,205 47,63 86,116 87,118 2,3 203,60 217,61 4,1 7,-1 7,-4 z"})})}),Us=()=>V.jsx("svg",{className:"d12-icon",width:"112.08261pt",height:"105.09998pt",viewBox:"0 0 112.08261 105.09998",children:V.jsx("g",{transform:"matrix(0.1,0,0,-0.1,-167.66482,320.98291)",children:V.jsx("path",{d:"m 1955.4743,3179.8293 c -62,-32 -63,-33 -202,-281 l -76,-137 -0.8262,-77.6951 0.8262,-85.3049 111,-189 c 105,-179 114,-192 163,-220 l 52,-29 232,-1 232,-1 52,31 c 51,30 58,40 166,233 l 112,200 v 75 75 l -114,191 c -113,190 -114,191 -170,219 l -56,27 h -223 l -222,-1 z m 535,-149 c 26,-79 46,-149 43,-156 -7,-18 -278,-173 -301,-171 -20,1 -291,152 -300,166 -3,5 11,59 30,122 20,62 37,121 40,131 15,62 -4,58 228,55 l 211,-3 z m 28.859,110.8918 c 8.2721,-4.8362 14.5541,-9.3903 21.5541,-14.4131 6.7934,-4.6425 52.5869,-66.4787 116.5869,-174.4787 98,-166 105,-181 108,-237 2,-33 1,-58 -1,-56 -2,3 -47,53 -99,111 l -94,106 -39,119 c -21,65 -42,127 -46,136 -5,10 -9,22 -9,28 0,15 24.4558,-4.3377 41.859,-18.1082 z m -580.859,-128.8918 -38,-132 -93,-108 c -51,-59 -95.3476,-110.4459 -99.3476,-112.4459 -9.4885,-2.5213 -4.5968,24.6982 -5.9474,64.9604 -0.9611,17.667 -1.6483,29.8102 6.859,40.8392 12.8261,16.628 3.436,2.6463 100.436,173.6463 74,132 110,185 133,199 16,9 31,15 33,11 1,-3 -15,-65 -37,-137 z m 770.2393,-339.2771 c 3.6147,-4.9344 6.6197,-7.423 12.8968,-12.6901 6.1283,-5.1424 17.8639,-12.0328 24.8639,-24.0328 12,-22 4,-40 -89,-205 -70,-126 -107,-182 -118,-181 -10,0 -78,17 -152,37 l -135,37 -3,163 c -2,134 5.5392,151.8877 12,162 3.6951,5.7835 4.7378,10.718 12,15 0,9 52,47 139,99 l 140,84 78,-81 c 42,-45 74.6936,-88.4368 78.2393,-93.2771 z m -654.2393,89.2771 c 74,-42 141,-83 149,-90 11,-11 14,-51 14,-178 v -164 l -67,-20 c -38,-10 -103,-29 -146,-42 -67,-19 -80,-20 -91,-8 -14,14 -191,314 -201,340 -6,15 180,239 198,239 5,0 70,-35 144,-77 z m 298,-494 c 61,-17 120,-33 133,-36 31,-7 25.5394,-20.1013 -3.3262,-32.0672 -13.517,-8.5277 -25.1801,-11.7303 -34.6738,-13.9328 -13.6377,-3.1639 -430.5213,4.6098 -438.8262,11.3476 -5.3049,1.0754 -14.0656,4.2164 -23.0328,8.9672 -8.8365,4.6815 -19.141,6.6852 -22.141,11.6852 -6,9 220,78 259,80 11,0 70,-13 130,-30 z"})})}),ht=()=>V.jsx("svg",{className:"d20-icon",width:"39.999992mm",height:"45.748047mm",viewBox:"0 0 39.999992 45.748047",children:V.jsx("g",{transform:"translate(-46.035577,-125.90554)",children:V.jsx("path",{d:"m 56.107011,131.69126 -10.035714,5.78572 -0.03572,6.07142 c 0,3.32144 0.107144,8.60715 0.250001,11.67858 l 0.214286,5.57143 9.75,5.60714 c 8.821427,5.03571 9.857142,5.53572 10.571427,5.14285 0.464287,-0.21428 4.964286,-2.82142 10.035715,-5.74999 l 9.178571,-5.32143 v -11.53571 -11.53572 l -7.035715,-4.03571 c -3.892857,-2.21429 -7.785714,-4.46429 -8.67857,-5 -0.892858,-0.53572 -2.178572,-1.32143 -2.892857,-1.71429 l -1.250001,-0.75 z m 6.25,0.46429 c -1.25,2.14286 -3,5.17857 -3.928572,6.75 -0.928571,1.57143 -1.821428,3.07143 -2,3.35714 -0.428571,0.64286 -7.999999,-3.71428 -7.821428,-4.53571 0.107143,-0.46428 15.642857,-9.82143 15.928572,-9.57143 0.03572,0.0715 -0.928572,1.85715 -2.178572,4 z m 21.892857,5.53572 c 0,0.17857 -7,4.42856 -7.928571,4.78571 -0.285714,0.10714 -0.892858,-0.64286 -1.714287,-2.21428 -0.67857,-1.32144 -1.571428,-2.89286 -1.999999,-3.5 -0.892858,-1.25001 -4.785715,-8.17858 -4.785715,-8.46429 0,-0.28572 16.392857,9.10714 16.428572,9.39286 z m -15.107143,-4.85715 c 1.428571,2.46429 1.922589,3.53579 2.093511,3.82268 0.109675,0.18409 0.201,0.40288 0.326193,0.60673 0.112139,0.1826 0.162121,0.26926 0.401688,0.59507 0.19464,0.27445 2.642893,4.04695 2.642893,4.83267 0,0.17857 -3.571428,0.32143 -8.607141,0.32143 -7.607144,0 -8.57143,-0.0715 -8.392858,-0.53572 0.107143,-0.32143 1.321428,-2.42857 2.642857,-4.75 1.357143,-2.28571 3.142858,-5.35714 3.964286,-6.78571 0.821428,-1.39287 1.678571,-2.57143 1.928572,-2.57143 0.249999,0 1.571428,1.99999 2.999999,4.46428 z m 15.821429,15.78572 c 0,5.24999 -0.142857,9.39286 -0.285715,9.17857 -0.714285,-0.75 -7.964285,-13.82143 -7.857142,-14.10714 0.142857,-0.39286 7.107142,-4.57143 7.714285,-4.60715 0.321428,0 0.428572,2.14286 0.428572,9.53572 z m -33,-7.17857 c 1.857143,1.10714 3.357142,2.17857 3.357142,2.35714 0,0.53572 -7.642857,14.17857 -7.928571,14.21429 -0.178571,0 -0.285714,-4.17857 -0.285714,-9.28572 0,-10.96429 -0.392857,-10.39286 4.857143,-7.28571 z m 22.571428,3.42856 c -0.714286,1.10715 -5.142856,8.75001 -6.714286,11.53573 -0.678571,1.24999 -1.357142,2.35713 -1.464285,2.49999 -0.25,0.21429 -1.901483,-2.86074 -2.479936,-3.71349 -0.124622,-0.18371 -0.170571,-0.17442 -0.270175,-0.36415 -0.588632,-1.12129 -0.717554,-1.4707 -1.273521,-2.21613 -0.402222,-0.47365 -1.927261,-3.02374 -1.262522,-2.11988 0.433365,0.99858 -1.223539,-2.02178 -2.820989,-4.90778 l -0.857142,-1.5 h 8.821428 8.821428 z m -15.178571,4.67858 c 1.5,2.64286 2.638453,4.9956 2.749999,5.17857 0.146058,0.23957 0.148876,0.19905 0.285715,0.42857 0.128025,0.21473 2.571429,3.96429 2.571429,4.42857 0,0.10714 -1.142857,0.21428 -2.535714,0.21428 -2.035715,0 -2.03175,-0.007 -2.847929,-0.069 -0.777265,-0.0394 -0.547746,-0.008 -1.292876,-0.0521 -0.584228,0.0498 0.02546,0.0349 -4.756849,-0.0457 -3.915753,-0.066 -4.959489,0.0598 -5.102346,-0.33307 -0.107144,-0.28572 0.928571,-2.5 2.321428,-4.89286 2.357143,-4.14285 3.892857,-6.92857 4.892857,-8.82142 0.214286,-0.42858 0.535715,-0.78572 0.714286,-0.78572 0.142857,0 1.5,2.14285 3,4.75 z m 17.535714,-3.25001 c 0.464286,0.85715 2.214286,3.92858 3.892857,6.82144 1.714286,2.89285 3,5.5 2.892858,5.74999 -0.321429,0.85715 -16.214287,1.35715 -16.214287,0.50001 0,-0.21429 1.178572,-2.42858 2.642858,-4.89286 1.428571,-2.46428 3.285714,-5.67857 4.107143,-7.10714 0.821428,-1.39286 1.571428,-2.57143 1.642857,-2.57143 0.07142,0 0.535714,0.67856 1.035714,1.49999 z m 6.464286,14.50001 c -0.785715,0.71429 -15.642857,9.10714 -16.214286,9.14285 -0.499999,0.0357 -0.571428,-0.53571 -0.678571,-4.5 l -0.107143,-4.5357 2.249999,-0.10715 c 5.571429,-0.28572 15.07143,-0.28572 14.750001,0 z m -17.964286,4.10714 c -0.107143,2.35714 -0.07061,3.53912 -0.06979,4.0349 0.0315,0.33969 0.01675,0.32025 -0.0023,0.71393 0.0077,0.26323 7.14e-4,0.3226 7.14e-4,0.50117 0,0.21429 -6.928571,-3.64285 -15.964285,-8.89286 -0.464285,-0.25 1.785715,-0.35713 7.785714,-0.35713 h 8.392857 z"})})}),qs=(e,t,n,r,i)=>{if(r&&i){const s=i.find(a=>a.id===r);s&&(e=s)}const o=e.available_dice.find(s=>s.hasOwnProperty("type")&&s.type===t);if(o){let s="";const a=o.notation,c=o.id;if(e.preview.hasOwnProperty(c)?s=e.preview[c]:a&&e.preview.hasOwnProperty(a)&&(s=e.preview[a]),s)return V.jsx("img",{className:"preview-image",src:s,alt:t},n)}else if(e.preview.hasOwnProperty(t))return V.jsx("img",{className:"preview-image",src:e.preview[t],alt:t},n)},Ys=e=>e==="d4"?V.jsx(Vs,{}):e==="d6"?V.jsx(Hs,{}):e==="d8"?V.jsx(_s,{}):e==="d10"||e==="d10x"?V.jsx(zs,{}):e==="d12"?V.jsx(Us,{}):V.jsx(ht,{}),$c=e=>{if(e!=null&&e.preview){if(Object.keys(e.preview).includes("d20"))return V.jsx("img",{className:"theme-preview",src:e.preview.d20,alt:"d20 theme preview"});if(Object.keys(e.preview).length>0)return V.jsx("img",{className:"theme-preview",src:Object.values(e.preview).pop(),alt:"theme preview"})}return V.jsx("img",{className:"theme-preview",src:"",alt:"no preview available"})};function nn(){return typeof window<"u"}function ze(e){return fi(e)?(e.nodeName||"").toLowerCase():"#document"}function be(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function ke(e){var t;return(t=(fi(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function fi(e){return nn()?e instanceof Node||e instanceof be(e).Node:!1}function ee(e){return nn()?e instanceof Element||e instanceof be(e).Element:!1}function ue(e){return nn()?e instanceof HTMLElement||e instanceof be(e).HTMLElement:!1}function In(e){return!nn()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof be(e).ShadowRoot}function At(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=Te(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(i)}function Xs(e){return["table","td","th"].includes(ze(e))}function rn(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function Xn(e){const t=on(),n=ee(e)?Te(e):e;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function Ks(e){let t=Be(e);for(;ue(t)&&!je(t);){if(Xn(t))return t;if(rn(t))return null;t=Be(t)}return null}function on(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function je(e){return["html","body","#document"].includes(ze(e))}function Te(e){return be(e).getComputedStyle(e)}function sn(e){return ee(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Be(e){if(ze(e)==="html")return e;const t=e.assignedSlot||e.parentNode||In(e)&&e.host||ke(e);return In(t)?t.host:t}function di(e){const t=Be(e);return je(t)?e.ownerDocument?e.ownerDocument.body:e.body:ue(t)&&At(t)?t:di(t)}function He(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=di(e),o=i===((r=e.ownerDocument)==null?void 0:r.body),s=be(i);if(o){const a=kn(s);return t.concat(s,s.visualViewport||[],At(i)?i:[],a&&n?He(a):[])}return t.concat(i,He(i,[],n))}function kn(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Ye(e){let t=e.activeElement;for(;((n=t)==null||(n=n.shadowRoot)==null?void 0:n.activeElement)!=null;){var n;t=t.shadowRoot.activeElement}return t}function ce(e,t){if(!e||!t)return!1;const n=t.getRootNode==null?void 0:t.getRootNode();if(e.contains(t))return!0;if(n&&In(n)){let r=t;for(;r;){if(e===r)return!0;r=r.parentNode||r.host}}return!1}function pi(){const e=navigator.userAgentData;return e!=null&&e.platform?e.platform:navigator.platform}function mi(){const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map(t=>{let{brand:n,version:r}=t;return n+"/"+r}).join(" "):navigator.userAgent}function Gs(e){return e.mozInputSource===0&&e.isTrusted?!0:$n()&&e.pointerType?e.type==="click"&&e.buttons===1:e.detail===0&&!e.pointerType}function Zs(e){return Qs()?!1:!$n()&&e.width===0&&e.height===0||$n()&&e.width===1&&e.height===1&&e.pressure===0&&e.detail===0&&e.pointerType==="mouse"||e.width<1&&e.height<1&&e.pressure===0&&e.detail===0&&e.pointerType==="touch"}function Js(){return/apple/i.test(navigator.vendor)}function $n(){const e=/android/i;return e.test(pi())||e.test(mi())}function Qs(){return mi().includes("jsdom/")}function jn(e,t){const n=["mouse","pen"];return n.push("",void 0),n.includes(e)}function ea(e){return"nativeEvent"in e}function ta(e){return e.matches("html,body")}function pe(e){return(e==null?void 0:e.ownerDocument)||document}function yn(e,t){if(t==null)return!1;if("composedPath"in e)return e.composedPath().includes(t);const n=e;return n.target!=null&&t.contains(n.target)}function Ve(e){return"composedPath"in e?e.composedPath()[0]:e.target}const na="input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])";function ra(e){return ue(e)&&e.matches(na)}function wn(e){e.preventDefault(),e.stopPropagation()}function ia(e){return e?e.getAttribute("role")==="combobox"&&ra(e):!1}const oa=["top","right","bottom","left"],yr=["start","end"],wr=oa.reduce((e,t)=>e.concat(t,t+"-"+yr[0],t+"-"+yr[1]),[]),zt=Math.min,Ge=Math.max,Ut=Math.round,jt=Math.floor,Me=e=>({x:e,y:e}),sa={left:"right",right:"left",bottom:"top",top:"bottom"},aa={start:"end",end:"start"};function xr(e,t,n){return Ge(e,zt(t,n))}function Ct(e,t){return typeof e=="function"?e(t):e}function We(e){return e.split("-")[0]}function Fe(e){return e.split("-")[1]}function vi(e){return e==="x"?"y":"x"}function hi(e){return e==="y"?"height":"width"}function ft(e){return["top","bottom"].includes(We(e))?"y":"x"}function gi(e){return vi(ft(e))}function bi(e,t,n){n===void 0&&(n=!1);const r=Fe(e),i=gi(e),o=hi(i);let s=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(s=Yt(s)),[s,Yt(s)]}function ca(e){const t=Yt(e);return[qt(e),t,qt(t)]}function qt(e){return e.replace(/start|end/g,t=>aa[t])}function ua(e,t,n){const r=["left","right"],i=["right","left"],o=["top","bottom"],s=["bottom","top"];switch(e){case"top":case"bottom":return n?t?i:r:t?r:i;case"left":case"right":return t?o:s;default:return[]}}function la(e,t,n,r){const i=Fe(e);let o=ua(We(e),n==="start",r);return i&&(o=o.map(s=>s+"-"+i),t&&(o=o.concat(o.map(qt)))),o}function Yt(e){return e.replace(/left|right|bottom|top/g,t=>sa[t])}function fa(e){return{top:0,right:0,bottom:0,left:0,...e}}function da(e){return typeof e!="number"?fa(e):{top:e,right:e,bottom:e,left:e}}function Xt(e){const{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}/*!
* tabbable 6.2.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var pa=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],Kt=pa.join(","),yi=typeof Element>"u",dt=yi?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,Gt=!yi&&Element.prototype.getRootNode?function(e){var t;return e==null||(t=e.getRootNode)===null||t===void 0?void 0:t.call(e)}:function(e){return e==null?void 0:e.ownerDocument},Zt=function e(t,n){var r;n===void 0&&(n=!0);var i=t==null||(r=t.getAttribute)===null||r===void 0?void 0:r.call(t,"inert"),o=i===""||i==="true",s=o||n&&t&&e(t.parentNode);return s},ma=function(t){var n,r=t==null||(n=t.getAttribute)===null||n===void 0?void 0:n.call(t,"contenteditable");return r===""||r==="true"},va=function(t,n,r){if(Zt(t))return[];var i=Array.prototype.slice.apply(t.querySelectorAll(Kt));return n&&dt.call(t,Kt)&&i.unshift(t),i=i.filter(r),i},ha=function e(t,n,r){for(var i=[],o=Array.from(t);o.length;){var s=o.shift();if(!Zt(s,!1))if(s.tagName==="SLOT"){var a=s.assignedElements(),c=a.length?a:s.children,l=e(c,!0,r);r.flatten?i.push.apply(i,l):i.push({scopeParent:s,candidates:l})}else{var f=dt.call(s,Kt);f&&r.filter(s)&&(n||!t.includes(s))&&i.push(s);var p=s.shadowRoot||typeof r.getShadowRoot=="function"&&r.getShadowRoot(s),g=!Zt(p,!1)&&(!r.shadowRootFilter||r.shadowRootFilter(s));if(p&&g){var d=e(p===!0?s.children:p.children,!0,r);r.flatten?i.push.apply(i,d):i.push({scopeParent:s,candidates:d})}else o.unshift.apply(o,s.children)}}return i},wi=function(t){return!isNaN(parseInt(t.getAttribute("tabindex"),10))},xi=function(t){if(!t)throw new Error("No node provided");return t.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(t.tagName)||ma(t))&&!wi(t)?0:t.tabIndex},ga=function(t,n){var r=xi(t);return r<0&&n&&!wi(t)?0:r},ba=function(t,n){return t.tabIndex===n.tabIndex?t.documentOrder-n.documentOrder:t.tabIndex-n.tabIndex},Ei=function(t){return t.tagName==="INPUT"},ya=function(t){return Ei(t)&&t.type==="hidden"},wa=function(t){var n=t.tagName==="DETAILS"&&Array.prototype.slice.apply(t.children).some(function(r){return r.tagName==="SUMMARY"});return n},xa=function(t,n){for(var r=0;r<t.length;r++)if(t[r].checked&&t[r].form===n)return t[r]},Ea=function(t){if(!t.name)return!0;var n=t.form||Gt(t),r=function(a){return n.querySelectorAll('input[type="radio"][name="'+a+'"]')},i;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")i=r(window.CSS.escape(t.name));else try{i=r(t.name)}catch(s){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",s.message),!1}var o=xa(i,t.form);return!o||o===t},Ra=function(t){return Ei(t)&&t.type==="radio"},Oa=function(t){return Ra(t)&&!Ea(t)},Ta=function(t){var n,r=t&&Gt(t),i=(n=r)===null||n===void 0?void 0:n.host,o=!1;if(r&&r!==t){var s,a,c;for(o=!!((s=i)!==null&&s!==void 0&&(a=s.ownerDocument)!==null&&a!==void 0&&a.contains(i)||t!=null&&(c=t.ownerDocument)!==null&&c!==void 0&&c.contains(t));!o&&i;){var l,f,p;r=Gt(i),i=(l=r)===null||l===void 0?void 0:l.host,o=!!((f=i)!==null&&f!==void 0&&(p=f.ownerDocument)!==null&&p!==void 0&&p.contains(i))}}return o},Er=function(t){var n=t.getBoundingClientRect(),r=n.width,i=n.height;return r===0&&i===0},Aa=function(t,n){var r=n.displayCheck,i=n.getShadowRoot;if(getComputedStyle(t).visibility==="hidden")return!0;var o=dt.call(t,"details>summary:first-of-type"),s=o?t.parentElement:t;if(dt.call(s,"details:not([open]) *"))return!0;if(!r||r==="full"||r==="legacy-full"){if(typeof i=="function"){for(var a=t;t;){var c=t.parentElement,l=Gt(t);if(c&&!c.shadowRoot&&i(c)===!0)return Er(t);t.assignedSlot?t=t.assignedSlot:!c&&l!==t.ownerDocument?t=l.host:t=c}t=a}if(Ta(t))return!t.getClientRects().length;if(r!=="legacy-full")return!0}else if(r==="non-zero-area")return Er(t);return!1},Ca=function(t){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(t.tagName))for(var n=t.parentElement;n;){if(n.tagName==="FIELDSET"&&n.disabled){for(var r=0;r<n.children.length;r++){var i=n.children.item(r);if(i.tagName==="LEGEND")return dt.call(n,"fieldset[disabled] *")?!0:!i.contains(t)}return!0}n=n.parentElement}return!1},Sa=function(t,n){return!(n.disabled||Zt(n)||ya(n)||Aa(n,t)||wa(n)||Ca(n))},Fn=function(t,n){return!(Oa(n)||xi(n)<0||!Sa(t,n))},Da=function(t){var n=parseInt(t.getAttribute("tabindex"),10);return!!(isNaN(n)||n>=0)},Pa=function e(t){var n=[],r=[];return t.forEach(function(i,o){var s=!!i.scopeParent,a=s?i.scopeParent:i,c=ga(a,s),l=s?e(i.candidates):a;c===0?s?n.push.apply(n,l):n.push(a):r.push({documentOrder:o,tabIndex:c,item:i,isScope:s,content:l})}),r.sort(ba).reduce(function(i,o){return o.isScope?i.push.apply(i,o.content):i.push(o.content),i},[]).concat(n)},an=function(t,n){n=n||{};var r;return n.getShadowRoot?r=ha([t],n.includeContainer,{filter:Fn.bind(null,n),flatten:!1,getShadowRoot:n.getShadowRoot,shadowRootFilter:Da}):r=va(t,n.includeContainer,Fn.bind(null,n)),Pa(r)},La=function(t,n){if(n=n||{},!t)throw new Error("No node provided");return dt.call(t,Kt)===!1?!1:Fn(n,t)};function Rr(e,t,n){let{reference:r,floating:i}=e;const o=ft(t),s=gi(t),a=hi(s),c=We(t),l=o==="y",f=r.x+r.width/2-i.width/2,p=r.y+r.height/2-i.height/2,g=r[a]/2-i[a]/2;let d;switch(c){case"top":d={x:f,y:r.y-i.height};break;case"bottom":d={x:f,y:r.y+r.height};break;case"right":d={x:r.x+r.width,y:p};break;case"left":d={x:r.x-i.width,y:p};break;default:d={x:r.x,y:r.y}}switch(Fe(t)){case"start":d[s]-=g*(n&&l?-1:1);break;case"end":d[s]+=g*(n&&l?-1:1);break}return d}const Ma=async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:s}=n,a=o.filter(Boolean),c=await(s.isRTL==null?void 0:s.isRTL(t));let l=await s.getElementRects({reference:e,floating:t,strategy:i}),{x:f,y:p}=Rr(l,r,c),g=r,d={},h=0;for(let m=0;m<a.length;m++){const{name:w,fn:v}=a[m],{x:b,y:C,data:u,reset:D}=await v({x:f,y:p,initialPlacement:r,placement:g,strategy:i,middlewareData:d,rects:l,platform:s,elements:{reference:e,floating:t}});f=b??f,p=C??p,d={...d,[w]:{...d[w],...u}},D&&h<=50&&(h++,typeof D=="object"&&(D.placement&&(g=D.placement),D.rects&&(l=D.rects===!0?await s.getElementRects({reference:e,floating:t,strategy:i}):D.rects),{x:f,y:p}=Rr(l,g,c)),m=-1)}return{x:f,y:p,placement:g,strategy:i,middlewareData:d}};async function Kn(e,t){var n;t===void 0&&(t={});const{x:r,y:i,platform:o,rects:s,elements:a,strategy:c}=e,{boundary:l="clippingAncestors",rootBoundary:f="viewport",elementContext:p="floating",altBoundary:g=!1,padding:d=0}=Ct(t,e),h=da(d),w=a[g?p==="floating"?"reference":"floating":p],v=Xt(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(w)))==null||n?w:w.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(a.floating)),boundary:l,rootBoundary:f,strategy:c})),b=p==="floating"?{x:r,y:i,width:s.floating.width,height:s.floating.height}:s.reference,C=await(o.getOffsetParent==null?void 0:o.getOffsetParent(a.floating)),u=await(o.isElement==null?void 0:o.isElement(C))?await(o.getScale==null?void 0:o.getScale(C))||{x:1,y:1}:{x:1,y:1},D=Xt(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:b,offsetParent:C,strategy:c}):b);return{top:(v.top-D.top+h.top)/u.y,bottom:(D.bottom-v.bottom+h.bottom)/u.y,left:(v.left-D.left+h.left)/u.x,right:(D.right-v.right+h.right)/u.x}}function Ia(e,t,n){return(e?[...n.filter(i=>Fe(i)===e),...n.filter(i=>Fe(i)!==e)]:n.filter(i=>We(i)===i)).filter(i=>e?Fe(i)===e||(t?qt(i)!==i:!1):!0)}const ka=function(e){return e===void 0&&(e={}),{name:"autoPlacement",options:e,async fn(t){var n,r,i;const{rects:o,middlewareData:s,placement:a,platform:c,elements:l}=t,{crossAxis:f=!1,alignment:p,allowedPlacements:g=wr,autoAlignment:d=!0,...h}=Ct(e,t),m=p!==void 0||g===wr?Ia(p||null,d,g):g,w=await Kn(t,h),v=((n=s.autoPlacement)==null?void 0:n.index)||0,b=m[v];if(b==null)return{};const C=bi(b,o,await(c.isRTL==null?void 0:c.isRTL(l.floating)));if(a!==b)return{reset:{placement:m[0]}};const u=[w[We(b)],w[C[0]],w[C[1]]],D=[...((r=s.autoPlacement)==null?void 0:r.overflows)||[],{placement:b,overflows:u}],S=m[v+1];if(S)return{data:{index:v+1,overflows:D},reset:{placement:S}};const F=D.map($=>{const j=Fe($.placement);return[$.placement,j&&f?$.overflows.slice(0,2).reduce((B,R)=>B+R,0):$.overflows[0],$.overflows]}).sort(($,j)=>$[1]-j[1]),I=((i=F.filter($=>$[2].slice(0,Fe($[0])?2:3).every(j=>j<=0))[0])==null?void 0:i[0])||F[0][0];return I!==a?{data:{index:v+1,overflows:D},reset:{placement:I}}:{}}}},$a=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:o,rects:s,initialPlacement:a,platform:c,elements:l}=t,{mainAxis:f=!0,crossAxis:p=!0,fallbackPlacements:g,fallbackStrategy:d="bestFit",fallbackAxisSideDirection:h="none",flipAlignment:m=!0,...w}=Ct(e,t);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const v=We(i),b=ft(a),C=We(a)===a,u=await(c.isRTL==null?void 0:c.isRTL(l.floating)),D=g||(C||!m?[Yt(a)]:ca(a)),S=h!=="none";!g&&S&&D.push(...la(a,m,h,u));const F=[a,...D],L=await Kn(t,w),I=[];let $=((r=o.flip)==null?void 0:r.overflows)||[];if(f&&I.push(L[v]),p){const O=bi(i,s,u);I.push(L[O[0]],L[O[1]])}if($=[...$,{placement:i,overflows:I}],!I.every(O=>O<=0)){var j,B;const O=(((j=o.flip)==null?void 0:j.index)||0)+1,M=F[O];if(M)return{data:{index:O,overflows:$},reset:{placement:M}};let k=(B=$.filter(P=>P.overflows[0]<=0).sort((P,A)=>P.overflows[1]-A.overflows[1])[0])==null?void 0:B.placement;if(!k)switch(d){case"bestFit":{var R;const P=(R=$.filter(A=>{if(S){const T=ft(A.placement);return T===b||T==="y"}return!0}).map(A=>[A.placement,A.overflows.filter(T=>T>0).reduce((T,E)=>T+E,0)]).sort((A,T)=>A[1]-T[1])[0])==null?void 0:R[0];P&&(k=P);break}case"initialPlacement":k=a;break}if(i!==k)return{reset:{placement:k}}}return{}}}};async function ja(e,t){const{placement:n,platform:r,elements:i}=e,o=await(r.isRTL==null?void 0:r.isRTL(i.floating)),s=We(n),a=Fe(n),c=ft(n)==="y",l=["left","top"].includes(s)?-1:1,f=o&&c?-1:1,p=Ct(t,e);let{mainAxis:g,crossAxis:d,alignmentAxis:h}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:p.mainAxis||0,crossAxis:p.crossAxis||0,alignmentAxis:p.alignmentAxis};return a&&typeof h=="number"&&(d=a==="end"?h*-1:h),c?{x:d*f,y:g*l}:{x:g*l,y:d*f}}const Fa=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:i,y:o,placement:s,middlewareData:a}=t,c=await ja(t,e);return s===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+c.x,y:o+c.y,data:{...c,placement:s}}}}},Na=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,{mainAxis:o=!0,crossAxis:s=!1,limiter:a={fn:w=>{let{x:v,y:b}=w;return{x:v,y:b}}},...c}=Ct(e,t),l={x:n,y:r},f=await Kn(t,c),p=ft(We(i)),g=vi(p);let d=l[g],h=l[p];if(o){const w=g==="y"?"top":"left",v=g==="y"?"bottom":"right",b=d+f[w],C=d-f[v];d=xr(b,d,C)}if(s){const w=p==="y"?"top":"left",v=p==="y"?"bottom":"right",b=h+f[w],C=h-f[v];h=xr(b,h,C)}const m=a.fn({...t,[g]:d,[p]:h});return{...m,data:{x:m.x-n,y:m.y-r,enabled:{[g]:o,[p]:s}}}}}};function Ri(e){const t=Te(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=ue(e),o=i?e.offsetWidth:n,s=i?e.offsetHeight:r,a=Ut(n)!==o||Ut(r)!==s;return a&&(n=o,r=s),{width:n,height:r,$:a}}function Gn(e){return ee(e)?e:e.contextElement}function it(e){const t=Gn(e);if(!ue(t))return Me(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:o}=Ri(t);let s=(o?Ut(n.width):n.width)/r,a=(o?Ut(n.height):n.height)/i;return(!s||!Number.isFinite(s))&&(s=1),(!a||!Number.isFinite(a))&&(a=1),{x:s,y:a}}const Ba=Me(0);function Oi(e){const t=be(e);return!on()||!t.visualViewport?Ba:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Wa(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==be(e)?!1:t}function Je(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),o=Gn(e);let s=Me(1);t&&(r?ee(r)&&(s=it(r)):s=it(e));const a=Wa(o,n,r)?Oi(o):Me(0);let c=(i.left+a.x)/s.x,l=(i.top+a.y)/s.y,f=i.width/s.x,p=i.height/s.y;if(o){const g=be(o),d=r&&ee(r)?be(r):r;let h=g,m=kn(h);for(;m&&r&&d!==h;){const w=it(m),v=m.getBoundingClientRect(),b=Te(m),C=v.left+(m.clientLeft+parseFloat(b.paddingLeft))*w.x,u=v.top+(m.clientTop+parseFloat(b.paddingTop))*w.y;c*=w.x,l*=w.y,f*=w.x,p*=w.y,c+=C,l+=u,h=be(m),m=kn(h)}}return Xt({width:f,height:p,x:c,y:l})}function Zn(e,t){const n=sn(e).scrollLeft;return t?t.left+n:Je(ke(e)).left+n}function Ti(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),i=r.left+t.scrollLeft-(n?0:Zn(e,r)),o=r.top+t.scrollTop;return{x:i,y:o}}function Va(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const o=i==="fixed",s=ke(r),a=t?rn(t.floating):!1;if(r===s||a&&o)return n;let c={scrollLeft:0,scrollTop:0},l=Me(1);const f=Me(0),p=ue(r);if((p||!p&&!o)&&((ze(r)!=="body"||At(s))&&(c=sn(r)),ue(r))){const d=Je(r);l=it(r),f.x=d.x+r.clientLeft,f.y=d.y+r.clientTop}const g=s&&!p&&!o?Ti(s,c,!0):Me(0);return{width:n.width*l.x,height:n.height*l.y,x:n.x*l.x-c.scrollLeft*l.x+f.x+g.x,y:n.y*l.y-c.scrollTop*l.y+f.y+g.y}}function Ha(e){return Array.from(e.getClientRects())}function _a(e){const t=ke(e),n=sn(e),r=e.ownerDocument.body,i=Ge(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),o=Ge(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let s=-n.scrollLeft+Zn(e);const a=-n.scrollTop;return Te(r).direction==="rtl"&&(s+=Ge(t.clientWidth,r.clientWidth)-i),{width:i,height:o,x:s,y:a}}function za(e,t){const n=be(e),r=ke(e),i=n.visualViewport;let o=r.clientWidth,s=r.clientHeight,a=0,c=0;if(i){o=i.width,s=i.height;const l=on();(!l||l&&t==="fixed")&&(a=i.offsetLeft,c=i.offsetTop)}return{width:o,height:s,x:a,y:c}}function Ua(e,t){const n=Je(e,!0,t==="fixed"),r=n.top+e.clientTop,i=n.left+e.clientLeft,o=ue(e)?it(e):Me(1),s=e.clientWidth*o.x,a=e.clientHeight*o.y,c=i*o.x,l=r*o.y;return{width:s,height:a,x:c,y:l}}function Or(e,t,n){let r;if(t==="viewport")r=za(e,n);else if(t==="document")r=_a(ke(e));else if(ee(t))r=Ua(t,n);else{const i=Oi(e);r={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return Xt(r)}function Ai(e,t){const n=Be(e);return n===t||!ee(n)||je(n)?!1:Te(n).position==="fixed"||Ai(n,t)}function qa(e,t){const n=t.get(e);if(n)return n;let r=He(e,[],!1).filter(a=>ee(a)&&ze(a)!=="body"),i=null;const o=Te(e).position==="fixed";let s=o?Be(e):e;for(;ee(s)&&!je(s);){const a=Te(s),c=Xn(s);!c&&a.position==="fixed"&&(i=null),(o?!c&&!i:!c&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||At(s)&&!c&&Ai(e,s))?r=r.filter(f=>f!==s):i=a,s=Be(s)}return t.set(e,r),r}function Ya(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const s=[...n==="clippingAncestors"?rn(t)?[]:qa(t,this._c):[].concat(n),r],a=s[0],c=s.reduce((l,f)=>{const p=Or(t,f,i);return l.top=Ge(p.top,l.top),l.right=zt(p.right,l.right),l.bottom=zt(p.bottom,l.bottom),l.left=Ge(p.left,l.left),l},Or(t,a,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function Xa(e){const{width:t,height:n}=Ri(e);return{width:t,height:n}}function Ka(e,t,n){const r=ue(t),i=ke(t),o=n==="fixed",s=Je(e,!0,o,t);let a={scrollLeft:0,scrollTop:0};const c=Me(0);if(r||!r&&!o)if((ze(t)!=="body"||At(i))&&(a=sn(t)),r){const g=Je(t,!0,o,t);c.x=g.x+t.clientLeft,c.y=g.y+t.clientTop}else i&&(c.x=Zn(i));const l=i&&!r&&!o?Ti(i,a):Me(0),f=s.left+a.scrollLeft-c.x-l.x,p=s.top+a.scrollTop-c.y-l.y;return{x:f,y:p,width:s.width,height:s.height}}function xn(e){return Te(e).position==="static"}function Tr(e,t){if(!ue(e)||Te(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return ke(e)===n&&(n=n.ownerDocument.body),n}function Ci(e,t){const n=be(e);if(rn(e))return n;if(!ue(e)){let i=Be(e);for(;i&&!je(i);){if(ee(i)&&!xn(i))return i;i=Be(i)}return n}let r=Tr(e,t);for(;r&&Xs(r)&&xn(r);)r=Tr(r,t);return r&&je(r)&&xn(r)&&!Xn(r)?n:r||Ks(e)||n}const Ga=async function(e){const t=this.getOffsetParent||Ci,n=this.getDimensions,r=await n(e.floating);return{reference:Ka(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function Za(e){return Te(e).direction==="rtl"}const Ja={convertOffsetParentRelativeRectToViewportRelativeRect:Va,getDocumentElement:ke,getClippingRect:Ya,getOffsetParent:Ci,getElementRects:Ga,getClientRects:Ha,getDimensions:Xa,getScale:it,isElement:ee,isRTL:Za};function Si(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Qa(e,t){let n=null,r;const i=ke(e);function o(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function s(a,c){a===void 0&&(a=!1),c===void 0&&(c=1),o();const l=e.getBoundingClientRect(),{left:f,top:p,width:g,height:d}=l;if(a||t(),!g||!d)return;const h=jt(p),m=jt(i.clientWidth-(f+g)),w=jt(i.clientHeight-(p+d)),v=jt(f),C={rootMargin:-h+"px "+-m+"px "+-w+"px "+-v+"px",threshold:Ge(0,zt(1,c))||1};let u=!0;function D(S){const F=S[0].intersectionRatio;if(F!==c){if(!u)return s();F?s(!1,F):r=setTimeout(()=>{s(!1,1e-7)},1e3)}F===1&&!Si(l,e.getBoundingClientRect())&&s(),u=!1}try{n=new IntersectionObserver(D,{...C,root:i.ownerDocument})}catch{n=new IntersectionObserver(D,C)}n.observe(e)}return s(!0),o}function jc(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,l=Gn(e),f=i||o?[...l?He(l):[],...He(t)]:[];f.forEach(v=>{i&&v.addEventListener("scroll",n,{passive:!0}),o&&v.addEventListener("resize",n)});const p=l&&a?Qa(l,n):null;let g=-1,d=null;s&&(d=new ResizeObserver(v=>{let[b]=v;b&&b.target===l&&d&&(d.unobserve(t),cancelAnimationFrame(g),g=requestAnimationFrame(()=>{var C;(C=d)==null||C.observe(t)})),n()}),l&&!c&&d.observe(l),d.observe(t));let h,m=c?Je(e):null;c&&w();function w(){const v=Je(e);m&&!Si(m,v)&&n(),m=v,h=requestAnimationFrame(w)}return n(),()=>{var v;f.forEach(b=>{i&&b.removeEventListener("scroll",n),o&&b.removeEventListener("resize",n)}),p==null||p(),(v=d)==null||v.disconnect(),d=null,c&&cancelAnimationFrame(h)}}const ec=Fa,tc=ka,nc=Na,rc=$a,ic=(e,t,n)=>{const r=new Map,i={platform:Ja,...n},o={...i.platform,_c:r};return Ma(e,t,{...i,platform:o})};var Vt=typeof document<"u"?x.useLayoutEffect:x.useEffect;function Jt(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!Jt(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){const o=i[r];if(!(o==="_owner"&&e.$$typeof)&&!Jt(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function Di(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Ar(e,t){const n=Di(e);return Math.round(t*n)/n}function En(e){const t=x.useRef(e);return Vt(()=>{t.current=e}),t}function oc(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:o,floating:s}={},transform:a=!0,whileElementsMounted:c,open:l}=e,[f,p]=x.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[g,d]=x.useState(r);Jt(g,r)||d(r);const[h,m]=x.useState(null),[w,v]=x.useState(null),b=x.useCallback(A=>{A!==S.current&&(S.current=A,m(A))},[]),C=x.useCallback(A=>{A!==F.current&&(F.current=A,v(A))},[]),u=o||h,D=s||w,S=x.useRef(null),F=x.useRef(null),L=x.useRef(f),I=c!=null,$=En(c),j=En(i),B=En(l),R=x.useCallback(()=>{if(!S.current||!F.current)return;const A={placement:t,strategy:n,middleware:g};j.current&&(A.platform=j.current),ic(S.current,F.current,A).then(T=>{const E={...T,isPositioned:B.current!==!1};O.current&&!Jt(L.current,E)&&(L.current=E,Bn.flushSync(()=>{p(E)}))})},[g,t,n,j,B]);Vt(()=>{l===!1&&L.current.isPositioned&&(L.current.isPositioned=!1,p(A=>({...A,isPositioned:!1})))},[l]);const O=x.useRef(!1);Vt(()=>(O.current=!0,()=>{O.current=!1}),[]),Vt(()=>{if(u&&(S.current=u),D&&(F.current=D),u&&D){if($.current)return $.current(u,D,R);R()}},[u,D,R,$,I]);const M=x.useMemo(()=>({reference:S,floating:F,setReference:b,setFloating:C}),[b,C]),k=x.useMemo(()=>({reference:u,floating:D}),[u,D]),P=x.useMemo(()=>{const A={position:n,left:0,top:0};if(!k.floating)return A;const T=Ar(k.floating,f.x),E=Ar(k.floating,f.y);return a?{...A,transform:"translate("+T+"px, "+E+"px)",...Di(k.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:T,top:E}},[n,a,k.floating,f.x,f.y]);return x.useMemo(()=>({...f,update:R,refs:M,elements:k,floatingStyles:P}),[f,R,M,k,P])}const Fc=(e,t)=>({...ec(e),options:[e,t]}),Nc=(e,t)=>({...nc(e),options:[e,t]}),Bc=(e,t)=>({...rc(e),options:[e,t]}),sc=(e,t)=>({...tc(e),options:[e,t]}),Pi={...Ki},ac=Pi.useInsertionEffect,cc=ac||(e=>e());function xe(e){const t=x.useRef(()=>{});return cc(()=>{t.current=e}),x.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t.current==null?void 0:t.current(...r)},[])}var me=typeof document<"u"?x.useLayoutEffect:x.useEffect;let Cr=!1,uc=0;const Sr=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+uc++;function lc(){const[e,t]=x.useState(()=>Cr?Sr():void 0);return me(()=>{e==null&&t(Sr())},[]),x.useEffect(()=>{Cr=!0},[]),e}const fc=Pi.useId,Li=fc||lc;function dc(){const e=new Map;return{emit(t,n){var r;(r=e.get(t))==null||r.forEach(i=>i(n))},on(t,n){e.set(t,[...e.get(t)||[],n])},off(t,n){var r;e.set(t,((r=e.get(t))==null?void 0:r.filter(i=>i!==n))||[])}}}const pc=x.createContext(null),mc=x.createContext(null),Mi=()=>{var e;return((e=x.useContext(pc))==null?void 0:e.id)||null},cn=()=>x.useContext(mc);function pt(e){return"data-floating-ui-"+e}function Ae(e){e.current!==-1&&(clearTimeout(e.current),e.current=-1)}function ot(e){const t=x.useRef(e);return me(()=>{t.current=e}),t}const Dr=pt("safe-polygon");function Rn(e,t,n){return n&&!jn(n)?0:typeof e=="number"?e:e==null?void 0:e[t]}function vc(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,dataRef:i,events:o,elements:s}=e,{enabled:a=!0,delay:c=0,handleClose:l=null,mouseOnly:f=!1,restMs:p=0,move:g=!0}=t,d=cn(),h=Mi(),m=ot(l),w=ot(c),v=ot(n),b=x.useRef(),C=x.useRef(-1),u=x.useRef(),D=x.useRef(-1),S=x.useRef(!0),F=x.useRef(!1),L=x.useRef(()=>{}),I=x.useRef(!1),$=x.useCallback(()=>{var P;const A=(P=i.current.openEvent)==null?void 0:P.type;return(A==null?void 0:A.includes("mouse"))&&A!=="mousedown"},[i]);x.useEffect(()=>{if(!a)return;function P(A){let{open:T}=A;T||(Ae(C),Ae(D),S.current=!0,I.current=!1)}return o.on("openchange",P),()=>{o.off("openchange",P)}},[a,o]),x.useEffect(()=>{if(!a||!m.current||!n)return;function P(T){$()&&r(!1,T,"hover")}const A=pe(s.floating).documentElement;return A.addEventListener("mouseleave",P),()=>{A.removeEventListener("mouseleave",P)}},[s.floating,n,r,a,m,$]);const j=x.useCallback(function(P,A,T){A===void 0&&(A=!0),T===void 0&&(T="hover");const E=Rn(w.current,"close",b.current);E&&!u.current?(Ae(C),C.current=window.setTimeout(()=>r(!1,P,T),E)):A&&(Ae(C),r(!1,P,T))},[w,r]),B=xe(()=>{L.current(),u.current=void 0}),R=xe(()=>{if(F.current){const P=pe(s.floating).body;P.style.pointerEvents="",P.removeAttribute(Dr),F.current=!1}}),O=xe(()=>i.current.openEvent?["click","mousedown"].includes(i.current.openEvent.type):!1);x.useEffect(()=>{if(!a)return;function P(N){if(Ae(C),S.current=!1,f&&!jn(b.current)||p>0&&!Rn(w.current,"open"))return;const Y=Rn(w.current,"open",b.current);Y?C.current=window.setTimeout(()=>{v.current||r(!0,N,"hover")},Y):n||r(!0,N,"hover")}function A(N){if(O())return;L.current();const Y=pe(s.floating);if(Ae(D),I.current=!1,m.current&&i.current.floatingContext){n||Ae(C),u.current=m.current({...i.current.floatingContext,tree:d,x:N.clientX,y:N.clientY,onClose(){R(),B(),O()||j(N,!0,"safe-polygon")}});const ne=u.current;Y.addEventListener("mousemove",ne),L.current=()=>{Y.removeEventListener("mousemove",ne)};return}(b.current==="touch"?!ce(s.floating,N.relatedTarget):!0)&&j(N)}function T(N){O()||i.current.floatingContext&&(m.current==null||m.current({...i.current.floatingContext,tree:d,x:N.clientX,y:N.clientY,onClose(){R(),B(),O()||j(N)}})(N))}if(ee(s.domReference)){var E;const N=s.domReference;return n&&N.addEventListener("mouseleave",T),(E=s.floating)==null||E.addEventListener("mouseleave",T),g&&N.addEventListener("mousemove",P,{once:!0}),N.addEventListener("mouseenter",P),N.addEventListener("mouseleave",A),()=>{var Y;n&&N.removeEventListener("mouseleave",T),(Y=s.floating)==null||Y.removeEventListener("mouseleave",T),g&&N.removeEventListener("mousemove",P),N.removeEventListener("mouseenter",P),N.removeEventListener("mouseleave",A)}}},[s,a,e,f,p,g,j,B,R,r,n,v,d,w,m,i,O]),me(()=>{var P;if(a&&n&&(P=m.current)!=null&&P.__options.blockPointerEvents&&$()){F.current=!0;const T=s.floating;if(ee(s.domReference)&&T){var A;const E=pe(s.floating).body;E.setAttribute(Dr,"");const N=s.domReference,Y=d==null||(A=d.nodesRef.current.find(oe=>oe.id===h))==null||(A=A.context)==null?void 0:A.elements.floating;return Y&&(Y.style.pointerEvents=""),E.style.pointerEvents="none",N.style.pointerEvents="auto",T.style.pointerEvents="auto",()=>{E.style.pointerEvents="",N.style.pointerEvents="",T.style.pointerEvents=""}}}},[a,n,h,s,d,m,$]),me(()=>{n||(b.current=void 0,I.current=!1,B(),R())},[n,B,R]),x.useEffect(()=>()=>{B(),Ae(C),Ae(D),R()},[a,s.domReference,B,R]);const M=x.useMemo(()=>{function P(A){b.current=A.pointerType}return{onPointerDown:P,onPointerEnter:P,onMouseMove(A){const{nativeEvent:T}=A;function E(){!S.current&&!v.current&&r(!0,T,"hover")}f&&!jn(b.current)||n||p===0||I.current&&A.movementX**2+A.movementY**2<2||(Ae(D),b.current==="touch"?E():(I.current=!0,D.current=window.setTimeout(E,p)))}}},[f,r,n,v,p]),k=x.useMemo(()=>({onMouseEnter(){Ae(C)},onMouseLeave(P){O()||j(P.nativeEvent,!1)}}),[j,O]);return x.useMemo(()=>a?{reference:M,floating:k}:{},[a,M,k])}let Pr=0;function tt(e,t){t===void 0&&(t={});const{preventScroll:n=!1,cancelPrevious:r=!0,sync:i=!1}=t;r&&cancelAnimationFrame(Pr);const o=()=>e==null?void 0:e.focus({preventScroll:n});i?o():Pr=requestAnimationFrame(o)}function Lr(e,t){var n;let r=[],i=(n=e.find(o=>o.id===t))==null?void 0:n.parentId;for(;i;){const o=e.find(s=>s.id===i);i=o==null?void 0:o.parentId,o&&(r=r.concat(o))}return r}function st(e,t){let n=e.filter(i=>{var o;return i.parentId===t&&((o=i.context)==null?void 0:o.open)}),r=n;for(;r.length;)r=e.filter(i=>{var o;return(o=r)==null?void 0:o.some(s=>{var a;return i.parentId===s.id&&((a=i.context)==null?void 0:a.open)})}),n=n.concat(r);return n}let nt=new WeakMap,Ft=new WeakSet,Nt={},On=0;const hc=()=>typeof HTMLElement<"u"&&"inert"in HTMLElement.prototype,Ii=e=>e&&(e.host||Ii(e.parentNode)),gc=(e,t)=>t.map(n=>{if(e.contains(n))return n;const r=Ii(n);return e.contains(r)?r:null}).filter(n=>n!=null);function bc(e,t,n,r){const i="data-floating-ui-inert",o=r?"inert":n?"aria-hidden":null,s=gc(t,e),a=new Set,c=new Set(s),l=[];Nt[i]||(Nt[i]=new WeakMap);const f=Nt[i];s.forEach(p),g(t),a.clear();function p(d){!d||a.has(d)||(a.add(d),d.parentNode&&p(d.parentNode))}function g(d){!d||c.has(d)||[].forEach.call(d.children,h=>{if(ze(h)!=="script")if(a.has(h))g(h);else{const m=o?h.getAttribute(o):null,w=m!==null&&m!=="false",v=nt.get(h)||0,b=o?v+1:v,C=(f.get(h)||0)+1;nt.set(h,b),f.set(h,C),l.push(h),b===1&&w&&Ft.add(h),C===1&&h.setAttribute(i,""),!w&&o&&h.setAttribute(o,"true")}})}return On++,()=>{l.forEach(d=>{const h=nt.get(d)||0,m=o?h-1:h,w=(f.get(d)||0)-1;nt.set(d,m),f.set(d,w),m||(!Ft.has(d)&&o&&d.removeAttribute(o),Ft.delete(d)),w||d.removeAttribute(i)}),On--,On||(nt=new WeakMap,nt=new WeakMap,Ft=new WeakSet,Nt={})}}function Mr(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!1);const r=pe(e[0]).body;return bc(e.concat(Array.from(r.querySelectorAll("[aria-live]"))),r,t,n)}const un=()=>({getShadowRoot:!0,displayCheck:typeof ResizeObserver=="function"&&ResizeObserver.toString().includes("[native code]")?"full":"none"});function ki(e,t){const n=an(e,un());t==="prev"&&n.reverse();const r=n.indexOf(Ye(pe(e)));return n.slice(r+1)[0]}function $i(){return ki(document.body,"next")}function ji(){return ki(document.body,"prev")}function wt(e,t){const n=t||e.currentTarget,r=e.relatedTarget;return!r||!ce(n,r)}function yc(e){an(e,un()).forEach(n=>{n.dataset.tabindex=n.getAttribute("tabindex")||"",n.setAttribute("tabindex","-1")})}function Ir(e){e.querySelectorAll("[data-tabindex]").forEach(n=>{const r=n.dataset.tabindex;delete n.dataset.tabindex,r?n.setAttribute("tabindex",r):n.removeAttribute("tabindex")})}const ln={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"fixed",whiteSpace:"nowrap",width:"1px",top:0,left:0},Qt=x.forwardRef(function(t,n){const[r,i]=x.useState();me(()=>{Js()&&i("button")},[]);const o={ref:n,tabIndex:0,role:r,"aria-hidden":r?void 0:!0,[pt("focus-guard")]:"",style:ln};return V.jsx("span",{...t,...o})}),Fi=x.createContext(null),kr=pt("portal");function wc(e){e===void 0&&(e={});const{id:t,root:n}=e,r=Li(),i=Ni(),[o,s]=x.useState(null),a=x.useRef(null);return me(()=>()=>{o==null||o.remove(),queueMicrotask(()=>{a.current=null})},[o]),me(()=>{if(!r||a.current)return;const c=t?document.getElementById(t):null;if(!c)return;const l=document.createElement("div");l.id=r,l.setAttribute(kr,""),c.appendChild(l),a.current=l,s(l)},[t,r]),me(()=>{if(n===null||!r||a.current)return;let c=n||(i==null?void 0:i.portalNode);c&&!ee(c)&&(c=c.current),c=c||document.body;let l=null;t&&(l=document.createElement("div"),l.id=t,c.appendChild(l));const f=document.createElement("div");f.id=r,f.setAttribute(kr,""),c=l||c,c.appendChild(f),a.current=f,s(f)},[t,n,r,i]),o}function Wc(e){const{children:t,id:n,root:r,preserveTabOrder:i=!0}=e,o=wc({id:n,root:r}),[s,a]=x.useState(null),c=x.useRef(null),l=x.useRef(null),f=x.useRef(null),p=x.useRef(null),g=s==null?void 0:s.modal,d=s==null?void 0:s.open,h=!!s&&!s.modal&&s.open&&i&&!!(r||o);return x.useEffect(()=>{if(!o||!i||g)return;function m(w){o&&wt(w)&&(w.type==="focusin"?Ir:yc)(o)}return o.addEventListener("focusin",m,!0),o.addEventListener("focusout",m,!0),()=>{o.removeEventListener("focusin",m,!0),o.removeEventListener("focusout",m,!0)}},[o,i,g]),x.useEffect(()=>{o&&(d||Ir(o))},[d,o]),V.jsxs(Fi.Provider,{value:x.useMemo(()=>({preserveTabOrder:i,beforeOutsideRef:c,afterOutsideRef:l,beforeInsideRef:f,afterInsideRef:p,portalNode:o,setFocusManagerState:a}),[i,o]),children:[h&&o&&V.jsx(Qt,{"data-type":"outside",ref:c,onFocus:m=>{if(wt(m,o)){var w;(w=f.current)==null||w.focus()}else{const v=ji()||(s==null?void 0:s.domReference);v==null||v.focus()}}}),h&&o&&V.jsx("span",{"aria-owns":o.id,style:ln}),o&&Bn.createPortal(t,o),h&&o&&V.jsx(Qt,{"data-type":"outside",ref:l,onFocus:m=>{if(wt(m,o)){var w;(w=p.current)==null||w.focus()}else{const v=$i()||(s==null?void 0:s.domReference);v==null||v.focus(),s!=null&&s.closeOnFocusOut&&(s==null||s.onOpenChange(!1,m.nativeEvent,"focus-out"))}}})]})}const Ni=()=>x.useContext(Fi),Nn="data-floating-ui-focusable";function $r(e){return e?e.hasAttribute(Nn)?e:e.querySelector("["+Nn+"]")||e:null}function jr(e){return x.useMemo(()=>t=>{e.forEach(n=>{n&&(n.current=t)})},e)}const xc=20;let Xe=[];function Ec(e){Xe=Xe.filter(t=>t.isConnected),e&&ze(e)!=="body"&&(Xe.push(e),Xe.length>xc&&(Xe=Xe.slice(-20)))}function Fr(){return Xe.slice().reverse().find(e=>e.isConnected)}function Rc(e){const t=un();return La(e,t)?e:an(e,t)[0]||e}const Oc=x.forwardRef(function(t,n){return V.jsx("button",{...t,type:"button",ref:n,tabIndex:-1,style:ln})});function Vc(e){const{context:t,children:n,disabled:r=!1,order:i=["content"],guards:o=!0,initialFocus:s=0,returnFocus:a=!0,restoreFocus:c=!1,modal:l=!0,visuallyHiddenDismiss:f=!1,closeOnFocusOut:p=!0,outsideElementsInert:g=!1}=e,{open:d,onOpenChange:h,events:m,dataRef:w,elements:{domReference:v,floating:b}}=t,C=xe(()=>{var W;return(W=w.current.floatingContext)==null?void 0:W.nodeId}),u=typeof s=="number"&&s<0,D=ia(v)&&u,S=hc(),F=S?o:!0,L=!F||S&&g,I=ot(i),$=ot(s),j=ot(a),B=cn(),R=Ni(),O=x.useRef(null),M=x.useRef(null),k=x.useRef(!1),P=x.useRef(!1),A=x.useRef(-1),T=R!=null,E=$r(b),N=xe(function(W){return W===void 0&&(W=E),W?an(W,un()):[]}),Y=xe(W=>{const z=N(W);return I.current.map(_=>v&&_==="reference"?v:E&&_==="floating"?E:z).filter(Boolean).flat()});x.useEffect(()=>{if(r||!l)return;function W(_){if(_.key==="Tab"){ce(E,Ye(pe(E)))&&N().length===0&&!D&&wn(_);const q=Y(),Q=Ve(_);I.current[0]==="reference"&&Q===v&&(wn(_),_.shiftKey?tt(q[q.length-1]):tt(q[1])),I.current[1]==="floating"&&Q===E&&_.shiftKey&&(wn(_),tt(q[0]))}}const z=pe(E);return z.addEventListener("keydown",W),()=>{z.removeEventListener("keydown",W)}},[r,v,E,l,I,D,N,Y]),x.useEffect(()=>{if(r||!b)return;function W(z){const _=Ve(z),Q=N().indexOf(_);Q!==-1&&(A.current=Q)}return b.addEventListener("focusin",W),()=>{b.removeEventListener("focusin",W)}},[r,b,N]),x.useEffect(()=>{if(r||!p)return;function W(){P.current=!0,setTimeout(()=>{P.current=!1})}function z(_){const q=_.relatedTarget;queueMicrotask(()=>{const Q=C(),ie=!(ce(v,q)||ce(b,q)||ce(q,b)||ce(R==null?void 0:R.portalNode,q)||q!=null&&q.hasAttribute(pt("focus-guard"))||B&&(st(B.nodesRef.current,Q).find(se=>{var te,le;return ce((te=se.context)==null?void 0:te.elements.floating,q)||ce((le=se.context)==null?void 0:le.elements.domReference,q)})||Lr(B.nodesRef.current,Q).find(se=>{var te,le,ve;return[(te=se.context)==null?void 0:te.elements.floating,$r((le=se.context)==null?void 0:le.elements.floating)].includes(q)||((ve=se.context)==null?void 0:ve.elements.domReference)===q})));if(c&&ie&&Ye(pe(E))===pe(E).body){ue(E)&&E.focus();const se=A.current,te=N(),le=te[se]||te[te.length-1]||E;ue(le)&&le.focus()}(D||!l)&&q&&ie&&!P.current&&q!==Fr()&&(k.current=!0,h(!1,_,"focus-out"))})}if(b&&ue(v))return v.addEventListener("focusout",z),v.addEventListener("pointerdown",W),b.addEventListener("focusout",z),()=>{v.removeEventListener("focusout",z),v.removeEventListener("pointerdown",W),b.removeEventListener("focusout",z)}},[r,v,b,E,l,B,R,h,p,c,N,D,C]);const oe=x.useRef(null),ne=x.useRef(null),re=jr([oe,R==null?void 0:R.beforeInsideRef]),Z=jr([ne,R==null?void 0:R.afterInsideRef]);x.useEffect(()=>{var W;if(r||!b)return;const z=Array.from((R==null||(W=R.portalNode)==null?void 0:W.querySelectorAll("["+pt("portal")+"]"))||[]),_=B&&!l?Lr(B==null?void 0:B.nodesRef.current,C()).map(ie=>{var se;return(se=ie.context)==null?void 0:se.elements.floating}):[],q=[b,...z,..._,O.current,M.current,oe.current,ne.current,R==null?void 0:R.beforeOutsideRef.current,R==null?void 0:R.afterOutsideRef.current,I.current.includes("reference")||D?v:null].filter(ie=>ie!=null),Q=l||D?Mr(q,!L,L):Mr(q);return()=>{Q()}},[r,v,b,l,I,R,D,F,L,B,C]),me(()=>{if(r||!ue(E))return;const W=pe(E),z=Ye(W);queueMicrotask(()=>{const _=Y(E),q=$.current,Q=(typeof q=="number"?_[q]:q.current)||E,ie=ce(E,z);!u&&!ie&&d&&tt(Q,{preventScroll:Q===E})})},[r,d,E,u,Y,$]),me(()=>{if(r||!E)return;let W=!1,z=!1;const _=pe(E),q=Ye(_);let ie=w.current.openEvent;Ec(q);function se(ve){let{open:$e,reason:fe,event:ae,nested:Se}=ve;if($e&&(ie=ae),fe==="escape-key"&&(z=!0),["hover","safe-polygon"].includes(fe)&&ae.type==="mouseleave"&&(k.current=!0),fe==="outside-press")if(Se)k.current=!1,W=!0;else if(Gs(ae)||Zs(ae))k.current=!1;else{let De=!1;document.createElement("div").focus({get preventScroll(){return De=!0,!1}}),De?(k.current=!1,W=!0):k.current=!0}}m.on("openchange",se);const te=_.createElement("span");te.setAttribute("tabindex","-1"),te.setAttribute("aria-hidden","true"),Object.assign(te.style,ln),T&&v&&v.insertAdjacentElement("afterend",te);function le(){return typeof j.current=="boolean"?z&&v?v:Fr()||te:j.current.current||te}return()=>{m.off("openchange",se);const ve=Ye(_),$e=ce(b,ve)||B&&st(B.nodesRef.current,C()).some(ae=>{var Se;return ce((Se=ae.context)==null?void 0:Se.elements.floating,ve)});($e||ie&&["click","mousedown"].includes(ie.type))&&(z=!0);const fe=le();queueMicrotask(()=>{const ae=Rc(fe);j.current&&!k.current&&ue(ae)&&(!(ae!==ve&&ve!==_.body)||$e)&&ae.focus({preventScroll:W}),te.remove()})}},[r,b,E,j,w,m,B,T,v,C]),x.useEffect(()=>{queueMicrotask(()=>{k.current=!1})},[r]),me(()=>{if(!r&&R)return R.setFocusManagerState({modal:l,closeOnFocusOut:p,open:d,onOpenChange:h,domReference:v}),()=>{R.setFocusManagerState(null)}},[r,R,l,d,h,p,v]),me(()=>{if(r||!E||typeof MutationObserver!="function"||u)return;const W=()=>{const _=E.getAttribute("tabindex"),q=N(),Q=Ye(pe(b)),ie=q.indexOf(Q);ie!==-1&&(A.current=ie),I.current.includes("floating")||Q!==v&&q.length===0?_!=="0"&&E.setAttribute("tabindex","0"):_!=="-1"&&E.setAttribute("tabindex","-1")};W();const z=new MutationObserver(W);return z.observe(E,{childList:!0,subtree:!0,attributes:!0}),()=>{z.disconnect()}},[r,b,E,v,I,N,u]);function J(W){return r||!f||!l?null:V.jsx(Oc,{ref:W==="start"?O:M,onClick:z=>h(!1,z.nativeEvent),children:typeof f=="string"?f:"Dismiss"})}const X=!r&&F&&(l?!D:!0)&&(T||l);return V.jsxs(V.Fragment,{children:[X&&V.jsx(Qt,{"data-type":"inside",ref:re,onFocus:W=>{if(l){const _=Y();tt(i[0]==="reference"?_[0]:_[_.length-1])}else if(R!=null&&R.preserveTabOrder&&R.portalNode)if(k.current=!1,wt(W,R.portalNode)){const _=$i()||v;_==null||_.focus()}else{var z;(z=R.beforeOutsideRef.current)==null||z.focus()}}}),!D&&J("start"),n,J("end"),X&&V.jsx(Qt,{"data-type":"inside",ref:Z,onFocus:W=>{if(l)tt(Y()[0]);else if(R!=null&&R.preserveTabOrder&&R.portalNode)if(p&&(k.current=!0),wt(W,R.portalNode)){const _=ji()||v;_==null||_.focus()}else{var z;(z=R.afterOutsideRef.current)==null||z.focus()}}})]})}let Bt=0;function Tc(){const e=/iP(hone|ad|od)|iOS/.test(pi()),t=document.body.style,r=Math.round(document.documentElement.getBoundingClientRect().left)+document.documentElement.scrollLeft?"paddingLeft":"paddingRight",i=window.innerWidth-document.documentElement.clientWidth,o=t.left?parseFloat(t.left):window.scrollX,s=t.top?parseFloat(t.top):window.scrollY;if(t.overflow="hidden",i&&(t[r]=i+"px"),e){var a,c;const l=((a=window.visualViewport)==null?void 0:a.offsetLeft)||0,f=((c=window.visualViewport)==null?void 0:c.offsetTop)||0;Object.assign(t,{position:"fixed",top:-(s-Math.floor(f))+"px",left:-(o-Math.floor(l))+"px",right:"0"})}return()=>{Object.assign(t,{overflow:"",[r]:""}),e&&(Object.assign(t,{position:"",top:"",left:"",right:""}),window.scrollTo(o,s))}}let Nr=()=>{};const Hc=x.forwardRef(function(t,n){const{lockScroll:r=!1,...i}=t;return me(()=>{if(r)return Bt++,Bt===1&&(Nr=Tc()),()=>{Bt--,Bt===0&&Nr()}},[r]),V.jsx("div",{ref:n,...i,style:{position:"fixed",overflow:"auto",top:0,right:0,bottom:0,left:0,...i.style}})}),Ac={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},Cc={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},Br=e=>{var t,n;return{escapeKey:typeof e=="boolean"?e:(t=e==null?void 0:e.escapeKey)!=null?t:!1,outsidePress:typeof e=="boolean"?e:(n=e==null?void 0:e.outsidePress)!=null?n:!0}};function _c(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,elements:i,dataRef:o}=e,{enabled:s=!0,escapeKey:a=!0,outsidePress:c=!0,outsidePressEvent:l="pointerdown",referencePress:f=!1,referencePressEvent:p="pointerdown",ancestorScroll:g=!1,bubbles:d,capture:h}=t,m=cn(),w=xe(typeof c=="function"?c:()=>!1),v=typeof c=="function"?w:c,b=x.useRef(!1),C=x.useRef(!1),{escapeKey:u,outsidePress:D}=Br(d),{escapeKey:S,outsidePress:F}=Br(h),L=x.useRef(!1),I=xe(M=>{var k;if(!n||!s||!a||M.key!=="Escape"||L.current)return;const P=(k=o.current.floatingContext)==null?void 0:k.nodeId,A=m?st(m.nodesRef.current,P):[];if(!u&&(M.stopPropagation(),A.length>0)){let T=!0;if(A.forEach(E=>{var N;if((N=E.context)!=null&&N.open&&!E.context.dataRef.current.__escapeKeyBubbles){T=!1;return}}),!T)return}r(!1,ea(M)?M.nativeEvent:M,"escape-key")}),$=xe(M=>{var k;const P=()=>{var A;I(M),(A=Ve(M))==null||A.removeEventListener("keydown",P)};(k=Ve(M))==null||k.addEventListener("keydown",P)}),j=xe(M=>{var k;const P=b.current;b.current=!1;const A=C.current;if(C.current=!1,l==="click"&&A||P||typeof v=="function"&&!v(M))return;const T=Ve(M),E="["+pt("inert")+"]",N=pe(i.floating).querySelectorAll(E);let Y=ee(T)?T:null;for(;Y&&!je(Y);){const Z=Be(Y);if(je(Z)||!ee(Z))break;Y=Z}if(N.length&&ee(T)&&!ta(T)&&!ce(T,i.floating)&&Array.from(N).every(Z=>!ce(Y,Z)))return;if(ue(T)&&O){const Z=je(T),J=Te(T),X=/auto|scroll/,W=Z||X.test(J.overflowX),z=Z||X.test(J.overflowY),_=W&&T.clientWidth>0&&T.scrollWidth>T.clientWidth,q=z&&T.clientHeight>0&&T.scrollHeight>T.clientHeight,Q=J.direction==="rtl",ie=q&&(Q?M.offsetX<=T.offsetWidth-T.clientWidth:M.offsetX>T.clientWidth),se=_&&M.offsetY>T.clientHeight;if(ie||se)return}const oe=(k=o.current.floatingContext)==null?void 0:k.nodeId,ne=m&&st(m.nodesRef.current,oe).some(Z=>{var J;return yn(M,(J=Z.context)==null?void 0:J.elements.floating)});if(yn(M,i.floating)||yn(M,i.domReference)||ne)return;const re=m?st(m.nodesRef.current,oe):[];if(re.length>0){let Z=!0;if(re.forEach(J=>{var X;if((X=J.context)!=null&&X.open&&!J.context.dataRef.current.__outsidePressBubbles){Z=!1;return}}),!Z)return}r(!1,M,"outside-press")}),B=xe(M=>{var k;const P=()=>{var A;j(M),(A=Ve(M))==null||A.removeEventListener(l,P)};(k=Ve(M))==null||k.addEventListener(l,P)});x.useEffect(()=>{if(!n||!s)return;o.current.__escapeKeyBubbles=u,o.current.__outsidePressBubbles=D;let M=-1;function k(N){r(!1,N,"ancestor-scroll")}function P(){window.clearTimeout(M),L.current=!0}function A(){M=window.setTimeout(()=>{L.current=!1},on()?5:0)}const T=pe(i.floating);a&&(T.addEventListener("keydown",S?$:I,S),T.addEventListener("compositionstart",P),T.addEventListener("compositionend",A)),v&&T.addEventListener(l,F?B:j,F);let E=[];return g&&(ee(i.domReference)&&(E=He(i.domReference)),ee(i.floating)&&(E=E.concat(He(i.floating))),!ee(i.reference)&&i.reference&&i.reference.contextElement&&(E=E.concat(He(i.reference.contextElement)))),E=E.filter(N=>{var Y;return N!==((Y=T.defaultView)==null?void 0:Y.visualViewport)}),E.forEach(N=>{N.addEventListener("scroll",k,{passive:!0})}),()=>{a&&(T.removeEventListener("keydown",S?$:I,S),T.removeEventListener("compositionstart",P),T.removeEventListener("compositionend",A)),v&&T.removeEventListener(l,F?B:j,F),E.forEach(N=>{N.removeEventListener("scroll",k)}),window.clearTimeout(M)}},[o,i,a,v,l,n,r,g,s,u,D,I,S,$,j,F,B]),x.useEffect(()=>{b.current=!1},[v,l]);const R=x.useMemo(()=>({onKeyDown:I,...f&&{[Ac[p]]:M=>{r(!1,M.nativeEvent,"reference-press")},...p!=="click"&&{onClick(M){r(!1,M.nativeEvent,"reference-press")}}}}),[I,r,f,p]),O=x.useMemo(()=>({onKeyDown:I,onMouseDown(){C.current=!0},onMouseUp(){C.current=!0},[Cc[l]]:()=>{b.current=!0}}),[I,l]);return x.useMemo(()=>s?{reference:R,floating:O}:{},[s,R,O])}function Sc(e){const{open:t=!1,onOpenChange:n,elements:r}=e,i=Li(),o=x.useRef({}),[s]=x.useState(()=>dc()),a=Mi()!=null,[c,l]=x.useState(r.reference),f=xe((d,h,m)=>{o.current.openEvent=d?h:void 0,s.emit("openchange",{open:d,event:h,reason:m,nested:a}),n==null||n(d,h,m)}),p=x.useMemo(()=>({setPositionReference:l}),[]),g=x.useMemo(()=>({reference:c||r.reference||null,floating:r.floating||null,domReference:r.reference}),[c,r.reference,r.floating]);return x.useMemo(()=>({dataRef:o,open:t,onOpenChange:f,elements:g,events:s,floatingId:i,refs:p}),[t,f,g,s,i,p])}function Dc(e){e===void 0&&(e={});const{nodeId:t}=e,n=Sc({...e,elements:{reference:null,floating:null,...e.elements}}),r=e.rootContext||n,i=r.elements,[o,s]=x.useState(null),[a,c]=x.useState(null),f=(i==null?void 0:i.domReference)||o,p=x.useRef(null),g=cn();me(()=>{f&&(p.current=f)},[f]);const d=oc({...e,elements:{...i,...a&&{reference:a}}}),h=x.useCallback(C=>{const u=ee(C)?{getBoundingClientRect:()=>C.getBoundingClientRect(),contextElement:C}:C;c(u),d.refs.setReference(u)},[d.refs]),m=x.useCallback(C=>{(ee(C)||C===null)&&(p.current=C,s(C)),(ee(d.refs.reference.current)||d.refs.reference.current===null||C!==null&&!ee(C))&&d.refs.setReference(C)},[d.refs]),w=x.useMemo(()=>({...d.refs,setReference:m,setPositionReference:h,domReference:p}),[d.refs,m,h]),v=x.useMemo(()=>({...d.elements,domReference:f}),[d.elements,f]),b=x.useMemo(()=>({...d,...r,refs:w,elements:v,nodeId:t}),[d,w,v,t,r]);return me(()=>{r.dataRef.current.floatingContext=b;const C=g==null?void 0:g.nodesRef.current.find(u=>u.id===t);C&&(C.context=b)}),x.useMemo(()=>({...d,context:b,refs:w,elements:v}),[d,w,v,b])}const Wr="active",Vr="selected";function Tn(e,t,n){const r=new Map,i=n==="item";let o=e;if(i&&e){const{[Wr]:s,[Vr]:a,...c}=e;o=c}return{...n==="floating"&&{tabIndex:-1,[Nn]:""},...o,...t.map(s=>{const a=s?s[n]:null;return typeof a=="function"?e?a(e):null:a}).concat(e).reduce((s,a)=>(a&&Object.entries(a).forEach(c=>{let[l,f]=c;if(!(i&&[Wr,Vr].includes(l)))if(l.indexOf("on")===0){if(r.has(l)||r.set(l,[]),typeof f=="function"){var p;(p=r.get(l))==null||p.push(f),s[l]=function(){for(var g,d=arguments.length,h=new Array(d),m=0;m<d;m++)h[m]=arguments[m];return(g=r.get(l))==null?void 0:g.map(w=>w(...h)).find(w=>w!==void 0)}}}else s[l]=f}),s),{})}}function Pc(e){e===void 0&&(e=[]);const t=e.map(a=>a==null?void 0:a.reference),n=e.map(a=>a==null?void 0:a.floating),r=e.map(a=>a==null?void 0:a.item),i=x.useCallback(a=>Tn(a,e,"reference"),t),o=x.useCallback(a=>Tn(a,e,"floating"),n),s=x.useCallback(a=>Tn(a,e,"item"),r);return x.useMemo(()=>({getReferenceProps:i,getFloatingProps:o,getItemProps:s}),[i,o,s])}function Hr(e,t){const[n,r]=e;let i=!1;const o=t.length;for(let s=0,a=o-1;s<o;a=s++){const[c,l]=t[s]||[0,0],[f,p]=t[a]||[0,0];l>=r!=p>=r&&n<=(f-c)*(r-l)/(p-l)+c&&(i=!i)}return i}function Lc(e,t){return e[0]>=t.x&&e[0]<=t.x+t.width&&e[1]>=t.y&&e[1]<=t.y+t.height}function Mc(e){e===void 0&&(e={});const{buffer:t=.5,blockPointerEvents:n=!1,requireIntent:r=!0}=e;let i,o=!1,s=null,a=null,c=performance.now();function l(p,g){const d=performance.now(),h=d-c;if(s===null||a===null||h===0)return s=p,a=g,c=d,null;const m=p-s,w=g-a,b=Math.sqrt(m*m+w*w)/h;return s=p,a=g,c=d,b}const f=p=>{let{x:g,y:d,placement:h,elements:m,onClose:w,nodeId:v,tree:b}=p;return function(u){function D(){clearTimeout(i),w()}if(clearTimeout(i),!m.domReference||!m.floating||h==null||g==null||d==null)return;const{clientX:S,clientY:F}=u,L=[S,F],I=Ve(u),$=u.type==="mouseleave",j=ce(m.floating,I),B=ce(m.domReference,I),R=m.domReference.getBoundingClientRect(),O=m.floating.getBoundingClientRect(),M=h.split("-")[0],k=g>O.right-O.width/2,P=d>O.bottom-O.height/2,A=Lc(L,R),T=O.width>R.width,E=O.height>R.height,N=(T?R:O).left,Y=(T?R:O).right,oe=(E?R:O).top,ne=(E?R:O).bottom;if(j&&(o=!0,!$))return;if(B&&(o=!1),B&&!$){o=!0;return}if($&&ee(u.relatedTarget)&&ce(m.floating,u.relatedTarget)||b&&st(b.nodesRef.current,v).some(J=>{let{context:X}=J;return X==null?void 0:X.open}))return;if(M==="top"&&d>=R.bottom-1||M==="bottom"&&d<=R.top+1||M==="left"&&g>=R.right-1||M==="right"&&g<=R.left+1)return D();let re=[];switch(M){case"top":re=[[N,R.top+1],[N,O.bottom-1],[Y,O.bottom-1],[Y,R.top+1]];break;case"bottom":re=[[N,O.top+1],[N,R.bottom-1],[Y,R.bottom-1],[Y,O.top+1]];break;case"left":re=[[O.right-1,ne],[O.right-1,oe],[R.left+1,oe],[R.left+1,ne]];break;case"right":re=[[R.right-1,ne],[R.right-1,oe],[O.left+1,oe],[O.left+1,ne]];break}function Z(J){let[X,W]=J;switch(M){case"top":{const z=[T?X+t/2:k?X+t*4:X-t*4,W+t+1],_=[T?X-t/2:k?X+t*4:X-t*4,W+t+1],q=[[O.left,k||T?O.bottom-t:O.top],[O.right,k?T?O.bottom-t:O.top:O.bottom-t]];return[z,_,...q]}case"bottom":{const z=[T?X+t/2:k?X+t*4:X-t*4,W-t],_=[T?X-t/2:k?X+t*4:X-t*4,W-t],q=[[O.left,k||T?O.top+t:O.bottom],[O.right,k?T?O.top+t:O.bottom:O.top+t]];return[z,_,...q]}case"left":{const z=[X+t+1,E?W+t/2:P?W+t*4:W-t*4],_=[X+t+1,E?W-t/2:P?W+t*4:W-t*4];return[...[[P||E?O.right-t:O.left,O.top],[P?E?O.right-t:O.left:O.right-t,O.bottom]],z,_]}case"right":{const z=[X-t,E?W+t/2:P?W+t*4:W-t*4],_=[X-t,E?W-t/2:P?W+t*4:W-t*4],q=[[P||E?O.left+t:O.right,O.top],[P?E?O.left+t:O.right:O.left+t,O.bottom]];return[z,_,...q]}}}if(!Hr([S,F],re)){if(o&&!A)return D();if(!$&&r){const J=l(u.clientX,u.clientY);if(J!==null&&J<.1)return D()}Hr([S,F],Z([g,d]))?!o&&r&&(i=window.setTimeout(D,40)):D()}}};return f.__options={blockPointerEvents:n},f}const _r=e=>{const[t,n]=Ui(pn(L=>[L.room,L.taSettings])),r=Gi(pn(L=>L.addRoll)),[i,o,s]=Zi(pn(L=>[L.rollerApi,L.initialized,L.theme])),[a,c]=x.useState(!1),f=qi().role==="GM"&&!!n.gm_rolls_hidden,{refs:p,floatingStyles:g,context:d}=Dc({open:a,onOpenChange:c,middleware:[sc({autoAlignment:!0,crossAxis:!0,allowedPlacements:["left","right"]})]}),h=vc(d,{handleClose:Mc()}),{getReferenceProps:m,getFloatingProps:w}=Pc([h]),v=L=>((t==null?void 0:t.ruleset)==="e5"&&L.includes("PB")&&!Cn.isUndefined(e.proficiencyBonus)&&!Cn.isNull(e.proficiencyBonus)&&(L=L.replace("PB",e.proficiencyBonus.toString())),L.includes("STR")&&(L=L.replace("STR",((t==null?void 0:t.ruleset)==="pf"?e.stats.strength:Math.floor((e.stats.strength-10)/2)).toString())),L.includes("DEX")&&(L=L.replace("DEX",((t==null?void 0:t.ruleset)==="pf"?e.stats.dexterity:Math.floor((e.stats.dexterity-10)/2)).toString())),L.includes("CON")&&(L=L.replace("CON",((t==null?void 0:t.ruleset)==="pf"?e.stats.constitution:Math.floor((e.stats.constitution-10)/2)).toString())),L.includes("INT")&&(L=L.replace("INT",((t==null?void 0:t.ruleset)==="pf"?e.stats.intelligence:Math.floor((e.stats.intelligence-10)/2)).toString())),L.includes("WIS")&&(L=L.replace("WIS",((t==null?void 0:t.ruleset)==="pf"?e.stats.wisdom:Math.floor((e.stats.wisdom-10)/2)).toString())),L.includes("CHA")&&(L=L.replace("CHA",((t==null?void 0:t.ruleset)==="pf"?e.stats.charisma:Math.floor((e.stats.charisma-10)/2)).toString())),L),b=v(e.dice),C=v(e.text),u=(L,I)=>(L.includes("+")&&(I+=`+${b.split("+").pop()}`),L.includes("-")&&(I+=`-${b.split("-").pop()}`),I),D=async L=>{const I=p.domReference.current;if(I){I.classList.add("rolling");let $=e.context,j=b;if(L&&L==="ADV")j=u(b,"2d20kh1");else if(L&&L==="DIS")j=u(b,"2d20dh1");else if(L&&L==="CRIT"){$=$.substring(0,$.indexOf(":"))+": Critical Damage";const R=/\d+(?=d\d)/gi,O=new RegExp("(?<=\\dd)(\\d+)","gi"),M=new RegExp("(?<=d\\d+( ?))([+-]{1}( ?)\\d+)(?!d\\d)","gi"),k=j.match(R),P=j.match(O),A=j.match(M);try{if(k&&P&&k.length===P.length){if(n.crit_rules==="double_dice"){const T=k==null?void 0:k.map(E=>`${2*Number(E)}d`);j="",T.forEach((E,N)=>{N>0&&(j+="+"),j+=`${E}${P[N]}`})}else n.crit_rules==="double_role"?(j="2*(",k.forEach((T,E)=>{E>0&&(j+="+"),j+=`${T}d${P[E]}`}),j+=")"):n.crit_rules==="max_roll"&&(j="",k.forEach((T,E)=>{E>0&&(j+="+");const N=Number(T)*Number(P[E]);j+=`${T}d${P[E]} + ${N} `}));A&&(j+=" "+A.join(" "))}}catch{}}let B=null;if(s&&!(t!=null&&t.disableDiceRoller)){const R=Ji(j,s.id);if(i)try{B=await Qi(i,R.dice,{label:$,operator:R.operator,external_id:e.statblock,whisper:L==="SELF"?await eo(t,i):void 0})}catch{console.warn("error in dice roll",R.dice,R.operator)}}else B=await to(j,$,r,L==="SELF",e.statblock);e.onRoll&&e.onRoll(B),I.classList.remove("rolling");try{I.blur()}catch{}}},S=()=>{try{const I=no.parseRollEquation(b,"dddice-bees").dice.find($=>$.type!=="mod");return I?t!=null&&t.disableDiceRoller?Ys(I.type):s?qs(s,I.type,0)??V.jsx(ht,{}):V.jsx(ht,{}):V.jsx(ht,{})}catch{return V.jsx(ht,{})}},F=x.useCallback(()=>o&&!(t!=null&&t.disableDiceRoller)||(t==null?void 0:t.disableDiceRoller),[o,t==null?void 0:t.disableDiceRoller]);return V.jsx(Ws,{content:!o&&!(t!=null&&t.disableDiceRoller)?"Dice Roller is not initialized":e.limitReached?"You have reached your limits for this ability":"",disabled:!(!o&&!(t!=null&&t.disableDiceRoller))&&!e.limitReached,children:V.jsxs("span",{className:`button-wrapper ${e.classes} ${F()?"enabled":"disabled"} ${t!=null&&t.disableDiceRoller?"calculated":"three-d-dice"}`,onMouseEnter:()=>{c(!0)},onMouseLeave:()=>c(!1),children:[V.jsxs("button",{ref:p.setReference,...m(),disabled:!F(),className:`dice-button button ${e.limitReached?"limit":""}`,onClick:async()=>{await D(f?"SELF":void 0)},children:[V.jsx("div",{className:"dice-preview",children:S()}),C.replace(/\s/g,"").replace("&nbsp"," ")]}),a&&F?V.jsxs("span",{ref:p.setFloating,...w(),style:g,className:`dice-context-button visible ${b.startsWith("1d20")||b.startsWith("d20")||b.startsWith("+")||b.startsWith("-")?"full":"reduced"}`,children:[b.startsWith("1d20")||b.startsWith("d20")||b.startsWith("+")||b.startsWith("-")?V.jsxs(V.Fragment,{children:[V.jsx("button",{className:"advantage",disabled:!F(),onClick:async()=>{await D("ADV")},children:"ADV"}),V.jsx("button",{className:"disadvantage",disabled:!F(),onClick:async()=>{await D("DIS")},children:"DIS"})]}):null,e.damageDie&&n.crit_rules!=="none"?V.jsx("button",{className:"crit",disabled:!F(),onClick:async()=>{await D("CRIT")},children:"CRIT"}):null,V.jsx("button",{className:"self",disabled:!F(),onClick:async()=>{await D(f?void 0:"SELF")},children:f?"SHOW":"HIDE"})]}):null]})})},zc=({text:e,context:t,statblock:n,stats:r,onRoll:i,limitReached:o,damageDie:s,proficiencyBonus:a})=>{const c=/`?((\d*?d\d+)(( ?[\+\-] ?((\d+)|([A-Z]{3})))?)|( [\+\-]\d+))`?/g,l=e.match(c);if(l){const p=Array.from(l);p==null||p.forEach(g=>{if(g.startsWith("`"))l.splice(l.findIndex(d=>d===g),1);else{const d=new RegExp("[^`]"+g+"[^`]");e=e.split(d).join("|||")}})}const f=e.split("|||");return V.jsx("div",{className:"dice-button-wrapper",children:f.map((p,g)=>{let d=null;if(l&&l.length>=g&&l[g])if(Cn.startsWith(l[g],"`"))p+=l[g];else{let h=l[g];const m=h.replace(" ","");m.startsWith("DC")?h=`1d20>${parseInt(h.substring(3))}`:(m.startsWith("+")||m.startsWith("-"))&&(h=`1d20${h}`),d=V.jsx(_r,{dice:h,text:m,context:t,stats:r,statblock:n,onRoll:i,limitReached:o,damageDie:s,proficiencyBonus:a})}return V.jsxs("div",{className:"dice-button-wrapper-part",style:{paddingRight:"0.5ch"},children:[V.jsx(Yi,{className:"inline-markdown",remarkPlugins:[Xi],components:{p:({node:h,...m})=>V.jsx("p",{style:{paddingRight:"0.5ch"},children:m.children}),code:({node:h,...m})=>{var w,v;try{if(String(m.children).match(c))return V.jsx(_r,{dice:((w=m.children)==null?void 0:w.toString())||"",text:((v=m.children)==null?void 0:v.toString())||"",context:t,stats:r,statblock:n,onRoll:i,limitReached:o,damageDie:s,proficiencyBonus:a})}catch{}}},children:p}),d]},g)})})};export{ht as D,Wc as F,qs as a,_c as b,Pc as c,Hc as d,Vc as e,Bc as f,Ys as g,jc as h,Ws as i,zc as j,_r as k,$c as l,Fc as o,Nc as s,Dc as u};
