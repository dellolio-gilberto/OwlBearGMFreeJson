var ct=Object.defineProperty;var V=r=>{throw TypeError(r)};var lt=(r,t,s)=>t in r?ct(r,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):r[t]=s;var T=(r,t,s)=>lt(r,typeof t!="symbol"?t+"":t,s),$=(r,t,s)=>t.has(r)||V("Cannot "+s);var d=(r,t,s)=>($(r,t,"read from private field"),s?s.call(r):t.get(r)),q=(r,t,s)=>t.has(r)?V("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(r):t.set(r,s),N=(r,t,s,a)=>($(r,t,"write to private field"),a?a.call(r,s):t.set(r,s),s),M=(r,t,s)=>($(r,t,"access private method"),s);import{z as ut,A as pt,B as Q,D as ht,E as st,F as K,G as mt,H as dt,j as c,b as F,a as z,u as H,I as C}from"./main-Cy18Qh1g.js";import{r as f,_ as ft,aM as W,S as A,aN as E,aO as P,aP as _,J as x,H as J,T as Z,Q as X,O as B,p as G,z as O,aQ as yt,g as vt,aK as D,aR as k}from"./diceHelper-DqPMzgz0.js";import{u as U}from"./TokenContextWrapper-DtrIrYrP.js";import{i as j,k as wt}from"./DiceButtonWrapper-DdqL4pGj.js";var g,S,y,w,b,R,I,et,xt=(et=class extends ut{constructor(t,s){super();q(this,b);q(this,g);q(this,S);q(this,y);q(this,w);N(this,g,t),this.setOptions(s),this.bindMethods(),M(this,b,R).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){var a;const s=this.options;this.options=d(this,g).defaultMutationOptions(t),pt(this.options,s)||d(this,g).getMutationCache().notify({type:"observerOptionsUpdated",mutation:d(this,y),observer:this}),s!=null&&s.mutationKey&&this.options.mutationKey&&Q(s.mutationKey)!==Q(this.options.mutationKey)?this.reset():((a=d(this,y))==null?void 0:a.state.status)==="pending"&&d(this,y).setOptions(this.options)}onUnsubscribe(){var t;this.hasListeners()||(t=d(this,y))==null||t.removeObserver(this)}onMutationUpdate(t){M(this,b,R).call(this),M(this,b,I).call(this,t)}getCurrentResult(){return d(this,S)}reset(){var t;(t=d(this,y))==null||t.removeObserver(this),N(this,y,void 0),M(this,b,R).call(this),M(this,b,I).call(this)}mutate(t,s){var a;return N(this,w,s),(a=d(this,y))==null||a.removeObserver(this),N(this,y,d(this,g).getMutationCache().build(d(this,g),this.options)),d(this,y).addObserver(this),d(this,y).execute(t)}},g=new WeakMap,S=new WeakMap,y=new WeakMap,w=new WeakMap,b=new WeakSet,R=function(){var s;const t=((s=d(this,y))==null?void 0:s.state)??ht();N(this,S,{...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset})},I=function(t){st.batch(()=>{var s,a,l,n,i,e,p,u;if(d(this,w)&&this.hasListeners()){const m=d(this,S).variables,o=d(this,S).context;(t==null?void 0:t.type)==="success"?((a=(s=d(this,w)).onSuccess)==null||a.call(s,t.data,m,o),(n=(l=d(this,w)).onSettled)==null||n.call(l,t.data,null,m,o)):(t==null?void 0:t.type)==="error"&&((e=(i=d(this,w)).onError)==null||e.call(i,t.error,m,o),(u=(p=d(this,w)).onSettled)==null||u.call(p,void 0,t.error,m,o))}this.listeners.forEach(m=>{m(d(this,S))})})},et);function at(r,t){const s=K(),[a]=f.useState(()=>new xt(s,r));f.useEffect(()=>{a.setOptions(r)},[a,r]);const l=f.useSyncExternalStore(f.useCallback(i=>a.subscribe(st.batchCalls(i)),[a]),()=>a.getCurrentResult(),()=>a.getCurrentResult()),n=f.useCallback((i,e)=>{a.mutate(i,e).catch(mt)},[a]);if(l.error&&dt(a.options.throwOnError,[l.error]))throw l.error;return{...l,mutate:n,mutateAsync:l.mutate}}const Y=({percent:r,name:t,className:s,color:a})=>c.jsxs("svg",{className:`hp-icon ${s??""}`,height:"24px",viewBox:"0 -960 960 960",width:"24px",children:[c.jsx("defs",{children:c.jsxs("linearGradient",{id:t,x1:"0",x2:"0",y1:"1",y2:"0",children:[c.jsx("stop",{stopColor:a??"#AA1404",offset:"0%"}),c.jsx("stop",{stopColor:a??"#AA1404",offset:`${isNaN(r)?0:r}%`}),c.jsx("stop",{stopColor:"black",offset:`${Math.min(100,isNaN(r)?0:r+40)}%`}),c.jsx("stop",{stopColor:"black",offset:"100%"})]})}),c.jsx("path",{d:"m480-120-58-52q-101-91-167-157T150-447.5Q111-500 95.5-544T80-634q0-94 63-157t157-63q52 0 99 22t81 62q34-40 81-62t99-22q94 0 157 63t63 157q0 46-15.5 90T810-447.5Q771-395 705-329T538-172l-58 52Z",fill:`url(#${t})`}),c.jsx("path",{d:"m480-155.81-40.92-36.96q-98.06-89.04-162.19-153.02-64.12-63.98-101.63-113.65-37.52-49.67-52.35-90.63-14.83-40.96-14.83-83.12 0-82.74 55.8-138.54 55.81-55.81 138.54-55.81 51.74 0 97.78 24.5 46.03 24.5 79.8 71.08 34.88-46.58 80.29-71.08 45.4-24.5 97.29-24.5 82.73 0 138.54 55.79 55.8 55.78 55.8 138.48 0 42.23-14.83 83.19-14.83 40.97-52.33 90.62-37.5 49.65-101.52 113.67-64.01 64.03-162.32 153.02L480-155.81Zm0-75.42q94.32-85.61 155.52-146.46 61.2-60.85 96.82-105.96 35.62-45.12 49.62-80.15 14-35.03 14-69.36 0-59.53-39.55-98.97-39.55-39.45-98.59-39.45-47.01 0-86.95 26.89-39.95 26.88-64.52 75.92h-52.7q-24.96-49.42-64.71-76.11-39.75-26.7-86.76-26.7-58.66 0-98.4 39.45-39.74 39.44-39.74 98.99 0 34.35 14.03 69.39 14.02 35.04 49.59 80.1 35.57 45.07 96.76 105.86Q385.62-317 480-231.23Zm0-270.27Z",fill:a??"#AA1404"})]}),bt=()=>c.jsx("svg",{className:"map-icon",height:"24px",viewBox:"0 -960 960 960",width:"24px",children:c.jsx("path",{d:"m599.27-169.23-238.15-83.39-154.74 59.93q-14.65 5.77-27.5-2.91-12.84-8.67-12.84-24.49v-479.78q0-10.48 4.94-19.32 4.94-8.85 14.75-12.19l175.39-60L599.27-708l154.61-60q14.39-5.69 27.43 1.83 13.04 7.52 13.04 22.79v486.32q0 11.25-6.29 19.71-6.29 8.47-16.48 11.2l-172.31 56.92Zm-18.77-45.08V-678l-200.62-69.85v463.7l200.62 69.84Zm36.92 0 140-46.15v-469.69l-140 52.15v463.69Zm-414.46-16.15 140-53.69v-463.7l-140 47.7v469.69ZM617.42-678v463.69V-678Zm-274.46-69.85v463.7-463.7Z"})}),rt=()=>c.jsx("svg",{className:"player-icon",height:"24px",viewBox:"0 -960 960 960",width:"24px",children:c.jsx("path",{d:"M480-504q-48.38 0-82.65-34.27t-34.27-82.65q0-48.39 34.27-82.66 34.27-34.27 82.65-34.27t82.65 34.27q34.27 34.27 34.27 82.66 0 48.38-34.27 82.65T480-504ZM205.54-223.38v-62.16q0-24.23 13.86-44.95 13.86-20.72 38.05-32.35 56.27-26.58 111.89-40.12t110.67-13.54q55.05 0 110.75 13.52t111.88 40.11q24.16 11.63 37.99 32.36 13.83 20.73 13.83 44.97v62.16H205.54Z"})}),nt=({onClick:r,onContextMenu:t,active:s,players:a,tooltip:l})=>{const n=f.useRef(null),i=f.useRef(0);let e;return c.jsx("div",{className:`map-button ${s?"active":""}`,children:c.jsx(j,{content:l,children:c.jsxs("button",{ref:n,className:"map-default",onClick:async()=>{try{n.current&&(n.current.disabled=!0,n.current.classList.add("loading")),await r()}finally{n.current&&(n.current.disabled=!1,n.current.classList.remove("loading"))}},onContextMenu:async p=>{var u;if(p.preventDefault(),!((u=n==null?void 0:n.current)!=null&&u.disabled))try{n.current&&(n.current.disabled=!0,n.current.classList.add("loading")),await t()}finally{n.current&&(n.current.disabled=!1,n.current.classList.remove("loading"))}},onTouchStart:p=>{p.preventDefault(),p.stopPropagation(),i.current=Date.now(),e=setTimeout(async()=>{try{n.current&&(n.current.disabled=!0,n.current.classList.add("loading")),await t()}finally{n.current&&(n.current.disabled=!1,n.current.classList.remove("loading"))}},300)},onTouchEnd:async p=>{if(Date.now()-i.current<300){clearTimeout(e);try{n.current&&(n.current.disabled=!0,n.current.classList.add("loading")),await r()}finally{n.current&&(n.current.disabled=!1,n.current.classList.remove("loading"))}}else p.preventDefault(),p.stopPropagation()},children:[c.jsx(bt,{}),a?c.jsx(rt,{}):null]})})})},At=({id:r})=>{var u,m;const t=F(),s=f.useRef(null),a=f.useRef(null),l=f.useRef(null),n=z(H(o=>o.room)),i=U(H(o=>{var h;return(h=o.tokens)==null?void 0:h.get(r)})),e=i==null?void 0:i.data,p=i==null?void 0:i.item;return f.useEffect(()=>{s&&s.current&&(s.current.value=String(e==null?void 0:e.hp))},[e==null?void 0:e.hp]),f.useEffect(()=>{a&&a.current&&(a.current.value=String(e==null?void 0:e.maxHp))},[e==null?void 0:e.maxHp]),f.useEffect(()=>{var o,h;l&&l.current&&ft.isNumber((o=e==null?void 0:e.stats)==null?void 0:o.tempHp)&&(l.current.value=String((h=e==null?void 0:e.stats)==null?void 0:h.tempHp))},[(u=e==null?void 0:e.stats)==null?void 0:u.tempHp]),c.jsxs("div",{className:"token-hp",children:[c.jsx(Y,{percent:e.hp/(e.maxHp+(e.stats.tempHp??0))*100,name:p.id}),c.jsx(Y,{percent:e.stats.tempHp&&e.stats.tempHp>0?100:0,name:`tempHp-${p.id}`,className:"temp-hp-icon",color:"#2248ff"}),c.jsxs("div",{className:"current-hp",children:[c.jsx(j,{content:"Set current HP",children:c.jsx("input",{ref:s,type:"text",defaultValue:e.hp,onBlur:async o=>{const h=o.target.value,v=await W(h,e,p,a,n);v!==null&&(o.target.value=String(v),await A(v,e,p,s,l,n))},onKeyDown:async o=>{if(o.key==="ArrowUp"){const h=Math.min(e.hp+1,e.stats.tempHp?e.maxHp+e.stats.tempHp:e.maxHp);await A(h,e,p,s,l,n),o.currentTarget.value=String(h)}else if(o.key==="ArrowDown"){const h=Math.min(e.hp-1,e.stats.tempHp?e.maxHp+e.stats.tempHp:e.maxHp);await A(h,e,p,s,l,n),o.currentTarget.value=String(h)}else if(o.key==="Enter"){const h=o.currentTarget.value,v=await W(h,e,p,a,n);v!==null&&await A(v,e,p,s,l,n)}}})}),c.jsx("span",{className:"divider"}),c.jsx(j,{content:"Set max HP",children:c.jsx("input",{type:"text",ref:a,defaultValue:e.maxHp,onKeyDown:async o=>{if(o.key==="ArrowUp")await E(e.maxHp+1,e,p,a);else if(o.key==="ArrowDown")await E(e.maxHp-1,e,p,a);else if(o.key==="Enter"){const h=Number(o.currentTarget.value.replace(/[^0-9]/g,""));await E(h,e,p,a)}},onBlur:async o=>{const h=Number(o.target.value.replace(/[^0-9]/g,""));await E(h,e,p,a)}})})]}),c.jsxs("div",{className:"bottom-row",children:[c.jsx(j,{content:"set temp HP",children:c.jsx("input",{type:"text",defaultValue:e.stats.tempHp,ref:l,onKeyDown:async o=>{if(o.key==="ArrowUp")await P((e.stats.tempHp||0)+1,e,p,s,l);else if(o.key==="ArrowDown")await P((e.stats.tempHp||0)-1,e,p,s,l);else if(o.key==="Enter"){const h=_(o.currentTarget.value);await P(h,e,p,s,l)}},onBlur:async o=>{const h=_(o.currentTarget.value);await P(h,e,p,s,l)}})}),t.role==="GM"?c.jsx(nt,{onClick:async()=>{const o=!e.hpOnMap,h={...e,hpOnMap:o,hpBar:o&&!(n!=null&&n.disableHpBar)};await x(h,[r]),await J(p,h)},onContextMenu:async()=>{var h,v;const o={...e,playerMap:{ac:!!((h=e.playerMap)!=null&&h.ac),hp:!((v=e.playerMap)!=null&&v.hp)}};await x(o,[r]),await J(p,o)},active:e.hpOnMap,players:!!((m=e.playerMap)!=null&&m.hp),tooltip:"Add HP to map (players: right click)"}):null]})]})},gt=()=>c.jsx("svg",{className:"ac-icon",height:"24px",viewBox:"0 -960 960 960",width:"24px",children:c.jsx("path",{d:"M480-80q-139-35-229.5-159.5T160-516v-244l320-120 320 120v244q0 152-90.5 276.5T480-80Z"})}),Et=({id:r,hideExtras:t})=>{var p;const s=F(),a=z(H(u=>u.room)),l=f.useRef(null),n=U(H(u=>{var m;return(m=u.tokens)==null?void 0:m.get(r)})),i=n==null?void 0:n.data,e=n==null?void 0:n.item;return f.useEffect(()=>{l&&l.current&&(l.current.value=String(i==null?void 0:i.armorClass))},[i==null?void 0:i.armorClass]),c.jsxs("div",{className:`token-ac ${t?"no-extras":""}`,children:[t?null:c.jsx(gt,{}),c.jsx(j,{content:"Set AC",children:c.jsx("input",{className:"ac-input",type:"text",size:1,value:i.armorClass,onChange:u=>{let m=1;a!=null&&a.allowNegativeNumbers&&(m=u.target.value.startsWith("-")?-1:1);const o=Number(u.target.value.replace(/[^0-9]/g,""));Z(o*m,i,e,a)},onKeyDown:u=>{u.key==="ArrowUp"?Z(i.armorClass+1,i,e,a):u.key==="ArrowDown"&&Z(i.armorClass-1,i,e,a)}})}),s.role==="GM"&&!t?c.jsx(nt,{onClick:async()=>{const u={...i,acOnMap:!i.acOnMap};await x(u,[r]),await X(e,u)},onContextMenu:async()=>{var m,o;const u={...i,playerMap:{hp:!!((m=i.playerMap)!=null&&m.hp),ac:!((o=i.playerMap)!=null&&o.ac)}};await x(u,[r]),await X(e,u)},active:i.acOnMap,players:!!((p=i.playerMap)!=null&&p.ac),tooltip:"Add AC to map (players: right click)"}):null]})},St=()=>c.jsx("svg",{className:"initiative-icon",height:"20px",viewBox:"0 -960 960 960",width:"20px",children:c.jsx("path",{d:"m757.46-117-121-120.69-88 88-19.84-19.85q-19.58-19.58-19.58-48t19.58-48l169.84-170.04q19.58-19.38 48-19.38t48 19.38l20.04 20.04-88 88 120.69 120.81q10.35 10.54 10.35 24.19 0 13.65-10.35 24L805.65-117q-10.54 10.54-24.19 10.54-13.65 0-24-10.54Zm100.62-616.27L411.04-285.85l20.04 19.43q19.57 19.57 19.57 48.25 0 28.67-19.57 48.25l-19.85 19.84-88-88-121 120.69q-10.34 10.54-24.09 10.54t-24.1-10.54l-41.54-41.53q-10.34-10.35-10.34-24 0-13.66 10.34-24.2l120.69-120.8-88-88 20.04-20.04q19.39-19.39 48.06-19.39t48.25 19.39l20.31 20.92 447.42-447.04h128.81v128.81ZM331.27-582.69 356.5-608l24.62-25.31L356.5-608l-25.23 25.31Zm-39.42 39.54L102.12-733.27v-128.81h128.61l189.54 189.93-39.15 38.84-173.31-172.81h-49.73v49.93l173.19 173.5-39.42 39.54ZM370-324.27l432.12-431.92v-49.93h-49.93L320.27-374 370-324.27Zm0 0-24.73-25-25-24.73 25 24.73 24.73 25Z"})}),jt=({active:r,onClick:t})=>c.jsx(j,{content:"Show Token in Player Initiative List",children:c.jsx("div",{className:`player-button ${r?"active":""}`,children:c.jsx("button",{className:"player-default",onClick:t,children:c.jsx(rt,{})})})}),tt=async(r,t,s)=>{try{t.sync_pretty_sordid&&await B.scene.items.updateItems([r],a=>{a.forEach(l=>{l.metadata[`${G}/metadata`]={count:String(s),active:!1}})})}catch(a){O.isObject(a)&&"error"in a&&O.isObject(a.error)&&"name"in a.error&&a.error.name==="RateLimitHit"&&await B.notification.show("Too many changes, OBR rate limit prevented updating Pretty Sordid","WARNING")}},Pt=async(r,t,s)=>{try{s.sync_pretty_sordid&&(r&&await B.scene.items.updateItems([r],a=>{a.forEach(l=>{l.metadata[`${G}/metadata`].active=!1})}),await B.scene.items.updateItems([t],a=>{a.forEach(l=>{l.metadata[`${G}/metadata`].active=!0})}))}catch(a){O.isObject(a)&&"error"in a&&O.isObject(a.error)&&"name"in a.error&&a.error.name==="RateLimitHit"&&await B.notification.show("Too many changes, OBR rate limit prevented updating Pretty Sordid","WARNING")}},Rt=({id:r})=>{const t=F(),s=f.useRef(null),a=f.useRef(null),[l,n]=z(H(u=>[u.room,u.taSettings])),i=U(H(u=>{var m;return(m=u.tokens)==null?void 0:m.get(r)})),e=i==null?void 0:i.data,p=i==null?void 0:i.item;return f.useEffect(()=>{s&&s.current&&(s.current.value=String(e==null?void 0:e.initiative))},[e==null?void 0:e.initiative]),f.useEffect(()=>{a&&a.current&&(a.current.value=String(e==null?void 0:e.stats.initiativeBonus))},[e==null?void 0:e.stats.initiativeBonus]),c.jsxs("div",{className:"initiative-wrapper",children:[c.jsx(St,{}),c.jsx(j,{content:"Set initiative",children:c.jsx("input",{type:"number",size:1,value:String(e.initiative),step:.1,ref:s,onChange:async u=>{const m={...e,initiative:Number(u.target.value)};await x(m,[r]),await tt(r,n,Number(u.target.value))},className:"initiative"})}),c.jsx(wt,{dice:`1d${(l==null?void 0:l.initiativeDice)||20}${Intl.NumberFormat("en-US",{signDisplay:"always"}).format(e.stats.initiativeBonus)}`,text:Intl.NumberFormat("en-US",{signDisplay:"always"}).format(e.stats.initiativeBonus),context:"Initiative: Roll",stats:yt,statblock:e.sheet||vt(p),onRoll:async u=>{let m=0;try{u&&"total"in u?m=u.total:u&&"values"in u&&(m=u.values.map(h=>h.value).reduce((h,v)=>h+v,0))}catch{}const o={...e,initiative:m};await x(o,[r]),await tt(r,n,m)},classes:"init-wrapper"}),c.jsx(j,{content:"Set initiative bonus",children:c.jsx("input",{type:"number",size:1,defaultValue:e.stats.initiativeBonus,step:1,ref:a,onBlur:async u=>{const m=Number(u.target.value),o={...e,stats:{initiativeBonus:m}};await x(o,[r])},onKeyDown:async u=>{if(u.key==="Enter"){const m=Number(u.currentTarget.value),o={...e,stats:{initiativeBonus:m}};await x(o,[r])}},className:"initiative-bonus"})}),t.role==="GM"?c.jsx(jt,{active:!!e.playerList,onClick:async()=>{const u={...e,playerList:!e.playerList};await x(u,[r])}}):null]})};class qt{constructor(){T(this,"dbName","gmgrimoire");T(this,"dbVersion",1);T(this,"storeName","statblocks")}async initDB(){return new Promise((t,s)=>{const a=indexedDB.open(this.dbName,this.dbVersion);a.onerror=()=>s(a.error),a.onsuccess=()=>t(),a.onupgradeneeded=l=>{const n=l.target.result;n.objectStoreNames.contains(this.storeName)||n.createObjectStore(this.storeName,{keyPath:"slug"})}})}async getStatblocks(){const t=await this.openDB();return new Promise((s,a)=>{const i=t.transaction([this.storeName],"readonly").objectStore(this.storeName).getAll();i.onerror=()=>a(i.error),i.onsuccess=()=>s(i.result)})}async getStatblock(t){const s=await this.openDB();return new Promise((a,l)=>{const e=s.transaction([this.storeName],"readonly").objectStore(this.storeName).get(t);e.onerror=()=>l(e.error),e.onsuccess=()=>a(e.result||null)})}async saveStatblock(t){const s=await this.openDB();return new Promise((a,l)=>{const e=s.transaction([this.storeName],"readwrite").objectStore(this.storeName).put(t);e.onerror=()=>l(e.error),e.onsuccess=()=>a()})}async openDB(){return new Promise((t,s)=>{const a=indexedDB.open(this.dbName,this.dbVersion);a.onerror=()=>s(a.error),a.onsuccess=()=>t(a.result)})}}const L=new qt,Nt=async(r,t,s,a)=>{let l={};return a&&(l={Authorization:`Bearer ${a}`}),D.request({url:`${k}/e5/statblock/search/`,headers:l,params:{search_string:r,take:t,skip:s},method:"GET"}).then(n=>n.data)},it=async(r,t)=>{let s={};return t&&(s={Authorization:`Bearer ${t}`}),D.request({url:`${k}/e5/statblock/${r}`,headers:s,method:"GET"}).then(a=>a.data?a.data:null)},Ot=(r,t,s,a)=>C({queryKey:["e5statblock",r,t,s,a],queryFn:async()=>{const n=a?await Nt(r,t,s,a):[];await L.initDB();const i=await L.getStatblocks();return[...n,...i].filter(p=>p.name.toLowerCase().includes(r.toLowerCase())).slice(s,s+t)}}),Lt=(r,t)=>C({queryKey:["slug",r],queryFn:async()=>{try{await L.initDB();const s=await L.getStatblock(r);return s||it(r,t)}catch(s){return console.error("Error fetching statblock:",s),null}},enabled:r!==""}),$t=()=>{const r=K();return at({mutationKey:[],mutationFn:({slug:t,apiKey:s})=>it(t,s),onSuccess:(t,s)=>(r.invalidateQueries({queryKey:["slug",s.slug]}),t)})},Mt=(r,t,s,a)=>{let l={};return a&&(l={Authorization:`Bearer ${a}`}),D.request({url:`${k}/pf/statblock/search/`,headers:l,params:{name:r,take:t,skip:s},method:"GET"}).then(n=>n.data)},ot=(r,t)=>{let s={};return t&&(s={Authorization:`Bearer ${t}`}),D.request({url:`${k}/pf/statblock/${r}`,headers:s,method:"GET"}).then(a=>a.data?a.data:null)},Ht=(r,t)=>{let s={};return t&&(s={Authorization:`Bearer ${t}`}),D.request({url:`${k}/pf/spell/${r}`,headers:s,method:"GET"}).then(a=>a.data?a.data:null)},Zt=(r,t,s,a)=>C({queryKey:[r,t,s,"search"],queryFn:()=>Mt(r,t,s,a),enabled:r!==""}),Gt=(r,t)=>C({queryKey:[r,"slug"],queryFn:()=>ot(r,t),enabled:r!==""}),It=(r,t)=>C({queryKey:[r,"slug"],queryFn:()=>Ht(r,t),enabled:r!==""}),Kt=()=>{const r=K();return at({mutationKey:[],mutationFn:({slug:t,apiKey:s})=>ot(t,s),onSuccess:(t,s)=>(r.invalidateQueries({queryKey:["slug",s.slug],refetchType:"all"}),t)})};export{gt as A,Y as H,St as I,nt as M,jt as P,Zt as a,rt as b,$t as c,Kt as d,At as e,Et as f,Rt as g,Lt as h,L as i,It as j,Gt as k,Pt as s,Ot as u};
